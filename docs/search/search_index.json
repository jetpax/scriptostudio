{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"Home","text":"<p>Welcome to the ScriptO Studio documentation! This wiki covers everything you need to get started with ScriptO Studio and pyDirect.</p> <p></p>"},{"location":"#quick-start","title":"\ud83d\ude80 Quick Start","text":"Your Situation Go To New ESP32 chip (no firmware) pydirect.com \u2192 Getting Started Existing pyDirect device scriptostudio.com \u2192 Getting Started Change WiFi on device pydirect.com \u2192 WiFi button <ol> <li>Getting Started - Install firmware and connect</li> <li>First ScriptO - Run your first script on the device</li> <li>IDE Overview - Tour of the ScriptO Studio interface</li> </ol>"},{"location":"#documentation","title":"\ud83d\udcda Documentation","text":""},{"location":"#user-guide","title":"User Guide","text":"<ul> <li>File Manager - Managing device files</li> <li>Editor Features - Code editing and syntax highlighting</li> <li>Terminal &amp; REPL - Interactive Python shell</li> <li>Extensions - Installing and using extensions</li> <li>Settings - Configuring ScriptO Studio</li> </ul>"},{"location":"#device-setup","title":"Device Setup","text":"<ul> <li>Flashing Firmware - Installing pyDirect on your ESP32</li> <li>Board Configurations - Supported boards and pinouts</li> <li>Network Setup - WiFi provisioning and connection</li> <li>Provisioning - First-time device setup</li> </ul>"},{"location":"#ai-agent","title":"AI Agent","text":"<ul> <li>Agent Overview - AI-powered coding assistant</li> <li>Agent Setup - Configure API keys</li> <li>Using the Agent - Examples and tips</li> </ul>"},{"location":"#debugging","title":"Debugging","text":"<ul> <li>Debugger Overview - Debugging tools</li> <li>Setting Breakpoints - Print-based debugging</li> <li>Debug Console - REPL debugging tips</li> </ul>"},{"location":"#extensions-development","title":"Extensions Development","text":"<ul> <li>Writing Extensions - Create your own extensions</li> <li>Extension API - JavaScript API reference</li> <li>Device Libraries - MicroPython MIP packages</li> <li>Built-in Extensions - DBE, OVMS, DTC, OpenInverter</li> </ul>"},{"location":"#protocol-api","title":"Protocol &amp; API","text":"<ul> <li>WebREPL Binary Protocol - WBP specification</li> <li>WebRTC Transport - Primary connection method</li> <li>WebSocket Transport - Fallback connection</li> <li>Message Types - Command and response formats</li> </ul>"},{"location":"#developer-guide","title":"Developer Guide","text":"<ul> <li>Architecture - System design overview</li> <li>Building from Source - Development setup</li> <li>Contributing - How to contribute</li> <li>ESM Modules - JavaScript module structure</li> </ul>"},{"location":"#troubleshooting","title":"\ud83d\udee0\ufe0f Troubleshooting","text":"<ul> <li>Connection Issues</li> <li>Memory &amp; Performance</li> <li>Common Errors</li> <li>Debug Logging</li> </ul>"},{"location":"#reference","title":"\ud83d\udccb Reference","text":"<ul> <li>Changelog</li> <li>Roadmap</li> <li>FAQ</li> </ul> <p>Need help? Open an issue or check the FAQ.</p>"},{"location":"agent/","title":"Agent Overview","text":"<p>ScriptO Studio includes an AI-powered coding agent that helps you write, debug, and optimize MicroPython code for your device.</p> <p></p>"},{"location":"agent/#what-is-the-agent","title":"What is the Agent?","text":"<p>The Agent is an AI assistant integrated into ScriptO Studio that can: - Generate code from natural language descriptions - Explain code and device behavior - Debug issues by analyzing errors and logs - Suggest optimizations for performance and memory - Answer questions about MicroPython and ESP32</p>"},{"location":"agent/#how-it-works","title":"How It Works","text":"<p>The Agent uses large language models (LLMs) to understand your requests and generate appropriate responses. It has context about: - Your device configuration - Currently open files - Recent terminal output - Error messages</p>"},{"location":"agent/#features","title":"Features","text":"Feature Description Code Generation Describe what you want, get working code Error Analysis Paste an error, get an explanation and fix Device Awareness Knows your board's pins and capabilities Context Retention Remembers conversation history"},{"location":"agent/#getting-started","title":"Getting Started","text":"<p>See Agent Setup to configure the agent with your API key.</p> <p>See Using the Agent for usage examples.</p>"},{"location":"agent/#privacy","title":"Privacy","text":"<p>The Agent sends your prompts and relevant context to the configured LLM provider. Review your provider's privacy policy for details on data handling.</p>"},{"location":"agent/#related","title":"Related","text":"<ul> <li>Agent Setup</li> <li>Using the Agent</li> </ul>"},{"location":"agent/setup/","title":"Agent Setup","text":"<p>Configure the AI Agent in ScriptO Studio.</p>"},{"location":"agent/setup/#prerequisites","title":"Prerequisites","text":"<p>To use the Agent, you need an API key from a supported LLM provider:</p> Provider Models Get API Key OpenAI GPT-4, GPT-4o, GPT-3.5 platform.openai.com Anthropic Claude 3.5, Claude 3 console.anthropic.com Google Gemini Pro aistudio.google.com"},{"location":"agent/setup/#configuration-steps","title":"Configuration Steps","text":"<ol> <li>Open ScriptO Studio</li> <li>Click Settings in the sidebar</li> <li>Navigate to Agent section</li> <li>Select your Provider from the dropdown</li> <li>Enter your API Key</li> <li>Select your preferred Model</li> <li>Click Save</li> </ol>"},{"location":"agent/setup/#settings","title":"Settings","text":"Setting Description Provider LLM service (OpenAI, Anthropic, Google) API Key Your secret API key Model Specific model to use Temperature Creativity level (0.0 = deterministic, 1.0 = creative)"},{"location":"agent/setup/#verify-setup","title":"Verify Setup","text":"<p>After configuration:</p> <ol> <li>Open the Agent panel (or use keyboard shortcut)</li> <li>Type \"Hello, are you working?\"</li> <li>You should receive a response</li> </ol> <p>If you see an error, check: - API key is correct and active - You have credits/quota with the provider - Network connection is working</p>"},{"location":"agent/setup/#api-key-security","title":"API Key Security","text":"<p>[!WARNING] Your API key is stored locally in your browser. Never share your API key or commit it to version control.</p> <ul> <li>Keys are stored in browser localStorage</li> <li>Keys are only sent to the configured provider</li> <li>Clear browser data to remove stored keys</li> </ul>"},{"location":"agent/setup/#cost-considerations","title":"Cost Considerations","text":"<p>LLM APIs are billed per token (roughly per word): - Simple queries: ~$0.001 - $0.01 - Complex code generation: ~$0.05 - $0.20 - Extended conversations: Costs accumulate</p> <p>Set spending limits with your provider to avoid unexpected charges.</p>"},{"location":"agent/setup/#related","title":"Related","text":"<ul> <li>Agent Overview</li> <li>Using the Agent</li> </ul>"},{"location":"agent/usage/","title":"Using the Agent","text":"<p>The AI Agent is your coding assistant integrated directly into ScriptO Studio.</p>"},{"location":"agent/usage/#overview","title":"Overview","text":"<p>The AI Agent panel appears on the right side of the editor. It provides: - Natural language code generation - Error explanation and fixes - Code optimization suggestions - MicroPython and device-specific help</p>"},{"location":"agent/usage/#opening-the-agent","title":"Opening the Agent","text":"<p>Click AI Agent in the toolbar to toggle the Agent panel.</p>"},{"location":"agent/usage/#how-it-works","title":"How It Works","text":"<ol> <li>Describe what you want in the chat input</li> <li>Agent generates a response with code and explanation</li> <li>Configure or use the code via the action buttons</li> </ol>"},{"location":"agent/usage/#example-interaction","title":"Example Interaction","text":"<p>You: \"Emulate a Tesla model 3 brake pedal on the CAN bus\"</p> <p>Agent: Here is the complete ScriptO code to emulate a Tesla Model 3 brake pedal on the CAN bus.</p> <p>The Agent provides: - Complete working code - Explanation of what the code does - Configuration options</p>"},{"location":"agent/usage/#action-buttons","title":"Action Buttons","text":"<p>Each code response includes buttons:</p> Button Action Configure Open configuration dialog for the code Open in new tab Create a new editor tab with the code"},{"location":"agent/usage/#code-generation","title":"Code Generation","text":"<p>The Agent can generate code for:</p>"},{"location":"agent/usage/#hardware-control","title":"Hardware Control","text":"<pre><code>\"Blink the LED on GPIO2 every 500ms\"\n\"Read temperature from the BME280 sensor on I2C\"\n\"Send a CAN message with ID 0x123\"\n</code></pre>"},{"location":"agent/usage/#protocol-implementation","title":"Protocol Implementation","text":"<pre><code>\"Create a MQTT client that publishes sensor data\"\n\"Implement a simple web server\"\n\"Parse UDS diagnostic responses\"\n</code></pre>"},{"location":"agent/usage/#device-configuration","title":"Device Configuration","text":"<pre><code>\"Set up CAN bus at 500kbps\"\n\"Configure WiFi credentials\"\n\"Initialize the SPI display\"\n</code></pre>"},{"location":"agent/usage/#error-assistance","title":"Error Assistance","text":"<p>When you encounter errors, paste them into the Agent:</p> <p>You: <pre><code>I'm getting this error:\nTypeError: 'bytearray' object 'dtyarray' isn't a tuple or list\n</code></pre></p> <p>Agent: The error indicates that the CAN.send() method expects a standard Python 'list' or 'tuple' of integers for the data payload, rather than a 'bytearray'.</p> <p>The Agent explains: - What the error means - Why it occurred - How to fix it</p>"},{"location":"agent/usage/#context-awareness","title":"Context Awareness","text":"<p>The Agent can see: - Current editor content - Reference your code directly - Terminal output - See recent execution results - Device status - Know if you're connected</p> <p>Use this in your prompts: <pre><code>\"Look at my current code and optimize it for memory\"\n\"Why did the last run fail?\"\n\"Modify this to use asyncio instead\"\n</code></pre></p>"},{"location":"agent/usage/#scripto-configuration","title":"ScriptO Configuration","text":"<p>When the Agent generates a ScriptO (configurable script), clicking Configure opens a configuration dialog:</p> <p></p> <p>The dialog shows: - Script name and version - Description of what it does - Configuration options (dropdowns, inputs) - Generate Code button</p> <p>Example configuration options: - CAN Bus: CAN 0 (default) - CAN Mode: LOOPBACK - Internal test (no hardware) - Bitrate (bps): 500000 - 500 kbps (CANopen standard)</p> <p>Click Generate Code to create the configured script.</p>"},{"location":"agent/usage/#iterative-development","title":"Iterative Development","text":"<p>The Agent remembers your conversation, so you can iterate:</p> <ol> <li>\"Create a temperature logger\"</li> <li>\"Add MQTT publishing\"</li> <li>\"Make it retry on connection failure\"</li> <li>\"Add a watchdog timer\"</li> </ol> <p>Each request builds on the previous context.</p>"},{"location":"agent/usage/#tips-for-better-results","title":"Tips for Better Results","text":""},{"location":"agent/usage/#be-specific","title":"Be Specific","text":"<p>\u274c \"Make a sensor script\" \u2705 \"Read the BMP280 sensor on I2C address 0x76, log temperature and pressure every 10 seconds\"</p>"},{"location":"agent/usage/#include-constraints","title":"Include Constraints","text":"<p>\u274c \"Create a web server\" \u2705 \"Create a minimal web server that serves a single status page and uses under 20KB RAM\"</p>"},{"location":"agent/usage/#reference-your-code","title":"Reference Your Code","text":"<p>\u274c \"This doesn't work\" \u2705 \"The CAN message in my current code isn't being received - can you check the bus configuration?\"</p>"},{"location":"agent/usage/#limitations","title":"Limitations","text":"<ul> <li>Code must be copied/run manually (Agent cannot execute directly)</li> <li>Large codebases may exceed token limits</li> <li>Requires internet connection to LLM provider</li> <li>May need adjustment for specific hardware variants</li> </ul>"},{"location":"agent/usage/#related","title":"Related","text":"<ul> <li>Agent Overview - What the Agent can do</li> <li>Agent Setup - Configure API keys</li> <li>Writing ScriptOs - Manual script development</li> </ul>"},{"location":"debugging/","title":"Debugger Overview","text":"<p>ScriptO Studio includes debugging tools to help you find and fix issues in your MicroPython code.</p>"},{"location":"debugging/#features","title":"Features","text":"Feature Description REPL Inspection Examine variables and state interactively Print Debugging Strategic print() statements with log capture Error Tracebacks Formatted stack traces with source links Memory Monitoring Track heap usage to find leaks Log Sidebar Filtered view of device logs"},{"location":"debugging/#debugging-methods","title":"Debugging Methods","text":""},{"location":"debugging/#1-interactive-repl","title":"1. Interactive REPL","text":"<p>The Terminal provides a live Python REPL on your device:</p> <pre><code>&gt;&gt;&gt; import gc\n&gt;&gt;&gt; gc.mem_free()\n125648\n\n&gt;&gt;&gt; from machine import Pin\n&gt;&gt;&gt; led = Pin(2, Pin.OUT)\n&gt;&gt;&gt; led.value()\n0\n</code></pre> <p>Use this to: - Inspect variable values - Test code snippets - Check device state</p>"},{"location":"debugging/#2-print-debugging","title":"2. Print Debugging","text":"<p>Add print statements to trace execution:</p> <pre><code>def process_data(data):\n    print(f\"[DEBUG] process_data called with: {data}\")\n    result = transform(data)\n    print(f\"[DEBUG] transform result: {result}\")\n    return result\n</code></pre> <p>View output in the Terminal or Log sidebar.</p>"},{"location":"debugging/#3-exception-handling","title":"3. Exception Handling","text":"<p>Wrap code in try/except to capture errors:</p> <pre><code>try:\n    result = risky_operation()\nexcept Exception as e:\n    import sys\n    sys.print_exception(e)\n    # Handle error or re-raise\n</code></pre>"},{"location":"debugging/#4-memory-debugging","title":"4. Memory Debugging","text":"<p>Monitor memory to find leaks:</p> <pre><code>import gc\n\ndef check_memory(label):\n    gc.collect()\n    print(f\"[MEM] {label}: {gc.mem_free()} bytes free\")\n\ncheck_memory(\"start\")\ndo_something()\ncheck_memory(\"after operation\")\n</code></pre>"},{"location":"debugging/#using-the-log-sidebar","title":"Using the Log Sidebar","text":"<p>The Log sidebar captures and displays: - Print statements from your code - Syslog messages from the device - Error messages and warnings</p> <p>Filter logs by: - Level - Info, Warning, Error - Source - Your code, system, extensions - Search - Filter by text content</p>"},{"location":"debugging/#viewing-stack-traces","title":"Viewing Stack Traces","text":"<p>When an exception occurs, ScriptO Studio displays a formatted traceback:</p> <pre><code>Traceback (most recent call last):\n  File \"main.py\", line 15, in &lt;module&gt;\n  File \"main.py\", line 8, in setup\n  File \"sensors.py\", line 23, in init_sensor\nOSError: [Errno 19] ENODEV\n</code></pre> <p>Click on file references to jump to the source location.</p>"},{"location":"debugging/#remote-debugging-limitations","title":"Remote Debugging Limitations","text":"<p>Due to the nature of MicroPython on embedded devices: - No breakpoints - Cannot pause execution mid-code - No step debugging - Cannot step through line-by-line - No variable watch - Use REPL to inspect manually</p> <p>For complex debugging, use the REPL and print statements strategically.</p>"},{"location":"debugging/#related","title":"Related","text":"<ul> <li>Setting Breakpoints - Using print-based breakpoints</li> <li>Debug Console - REPL debugging tips</li> <li>Troubleshooting Errors</li> </ul>"},{"location":"debugging/breakpoints/","title":"Setting Breakpoints","text":"<p>How to use print-based breakpoints for debugging in ScriptO Studio.</p>"},{"location":"debugging/breakpoints/#understanding-breakpoints-in-micropython","title":"Understanding Breakpoints in MicroPython","text":"<p>MicroPython on embedded devices doesn't support traditional IDE breakpoints (pause execution, step through code). Instead, we use print-based breakpoints - strategic logging statements that let you trace execution flow and inspect values.</p>"},{"location":"debugging/breakpoints/#setting-a-breakpoint","title":"Setting a Breakpoint","text":"<p>Add a print statement at the location you want to inspect:</p> <pre><code>def process_sensor_data(data):\n    # BREAKPOINT: Check incoming data\n    print(f\"[BP1] process_sensor_data called, data={data}\")\n\n    result = transform(data)\n\n    # BREAKPOINT: Check result\n    print(f\"[BP2] transform result={result}\")\n\n    return result\n</code></pre>"},{"location":"debugging/breakpoints/#breakpoint-pattern","title":"Breakpoint Pattern","text":"<p>Use a consistent format for easy identification:</p> <pre><code>print(f\"[BP:{location}] {variable}={value}\")\n</code></pre> <p>Example: <pre><code>print(f\"[BP:main:45] sensor_value={sensor_value}, threshold={threshold}\")\n</code></pre></p>"},{"location":"debugging/breakpoints/#conditional-breakpoints","title":"Conditional Breakpoints","text":"<p>Only print when a condition is met:</p> <pre><code>def handle_message(msg):\n    # Only log when message type is unexpected\n    if msg.type not in ['status', 'data']:\n        print(f\"[BP:COND] Unexpected message type: {msg.type}\")\n\n    # Only log when value exceeds threshold\n    if msg.value &gt; 100:\n        print(f\"[BP:COND] High value detected: {msg.value}\")\n</code></pre>"},{"location":"debugging/breakpoints/#variable-inspection-breakpoint","title":"Variable Inspection Breakpoint","text":"<p>Dump multiple variables at once:</p> <pre><code>def debug_state(**kwargs):\n    \"\"\"Helper to print multiple values\"\"\"\n    pairs = ', '.join(f'{k}={v}' for k, v in kwargs.items())\n    print(f\"[DBG] {pairs}\")\n\n# Usage\ndebug_state(x=x, y=y, mode=mode, count=count)\n</code></pre>"},{"location":"debugging/breakpoints/#memory-checkpoint-breakpoint","title":"Memory Checkpoint Breakpoint","text":"<p>Track memory at specific points:</p> <pre><code>import gc\n\ndef mem_checkpoint(label):\n    gc.collect()\n    print(f\"[MEM:{label}] {gc.mem_free()} bytes free\")\n\n# Usage\nmem_checkpoint(\"before_load\")\nload_large_data()\nmem_checkpoint(\"after_load\")\n</code></pre>"},{"location":"debugging/breakpoints/#clearing-breakpoints","title":"Clearing Breakpoints","text":"<p>To remove breakpoints:</p> <ol> <li>Delete the print statement from your code</li> <li>Comment it out to disable temporarily:    <pre><code># print(f\"[BP1] ...\")  # Disabled\n</code></pre></li> <li>Use a flag to enable/disable globally:    <pre><code>DEBUG = False  # Set to True to enable breakpoints\n\ndef bp(msg):\n    if DEBUG:\n        print(f\"[BP] {msg}\")\n\n# Usage\nbp(f\"value={value}\")\n</code></pre></li> </ol>"},{"location":"debugging/breakpoints/#viewing-breakpoint-output","title":"Viewing Breakpoint Output","text":"<p>Breakpoint output appears in: - Terminal - All print() output - Log Sidebar - Filtered view (click Log icon)</p> <p>Use the Log Sidebar's search to filter by <code>[BP</code> to see only breakpoints.</p>"},{"location":"debugging/breakpoints/#entryexit-breakpoints","title":"Entry/Exit Breakpoints","text":"<p>Track function entry and exit:</p> <pre><code>def traced_function(arg1, arg2):\n    print(f\"[ENTER] traced_function({arg1}, {arg2})\")\n    try:\n        result = do_work(arg1, arg2)\n        print(f\"[EXIT] traced_function -&gt; {result}\")\n        return result\n    except Exception as e:\n        print(f\"[EXIT:ERR] traced_function raised {e}\")\n        raise\n</code></pre>"},{"location":"debugging/breakpoints/#decorator-for-tracing","title":"Decorator for Tracing","text":"<p>Create a reusable tracing decorator:</p> <pre><code>def trace(func):\n    def wrapper(*args, **kwargs):\n        print(f\"[TRACE] {func.__name__} called\")\n        try:\n            result = func(*args, **kwargs)\n            print(f\"[TRACE] {func.__name__} returned\")\n            return result\n        except Exception as e:\n            print(f\"[TRACE] {func.__name__} raised {type(e).__name__}\")\n            raise\n    return wrapper\n\n# Usage\n@trace\ndef my_function():\n    pass\n</code></pre>"},{"location":"debugging/breakpoints/#best-practices","title":"Best Practices","text":"<ol> <li>Use consistent prefixes - <code>[BP]</code>, <code>[DBG]</code>, <code>[TRACE]</code> for easy filtering</li> <li>Include context - Function name, line number, variable names</li> <li>Remove before production - Breakpoints add overhead</li> <li>Use sparingly in loops - Can flood output and slow execution</li> </ol>"},{"location":"debugging/breakpoints/#related","title":"Related","text":"<ul> <li>Debugger Overview</li> <li>Debug Console</li> <li>Troubleshooting Errors</li> </ul>"},{"location":"debugging/debug-console/","title":"Debug Console","text":"<p>Coming Soon</p> <p>This page is under construction.</p> <p>Please check back later or contribute to the docs.</p>"},{"location":"developer/architecture/","title":"Architecture","text":"<p>ScriptO Studio is a browser-based IDE for MicroPython development on ESP32 devices running pyDirect firmware.</p>"},{"location":"developer/architecture/#system-overview","title":"System Overview","text":"<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                      ScriptO Studio                         \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u2502\n\u2502  \u2502   Editor    \u2502  \u2502 File Manager\u2502  \u2502     Extensions      \u2502  \u2502\n\u2502  \u2502 (CodeMirror)\u2502  \u2502             \u2502  \u2502  (JS Configurator)  \u2502  \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2502\n\u2502         \u2502                \u2502                    \u2502             \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u2502\n\u2502  \u2502                   WebREPL Client                      \u2502  \u2502\n\u2502  \u2502              (webrepl_binary.js)                      \u2502  \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2502\n\u2502                         \u2502                                   \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u2502\n\u2502  \u2502              Transport Layer                          \u2502  \u2502\n\u2502  \u2502   \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510          \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510    \u2502  \u2502\n\u2502  \u2502   \u2502   WebRTC    \u2502\u25c4\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25ba\u2502     WebSocket       \u2502    \u2502  \u2502\n\u2502  \u2502   \u2502  (Primary)  \u2502          \u2502     (Fallback)      \u2502    \u2502  \u2502\n\u2502  \u2502   \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518          \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518    \u2502  \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                              \u2502\n                              \u2502 WBP (WebREPL Binary Protocol)\n                              \u25bc\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                      pyDirect Device                        \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u2502\n\u2502  \u2502                webrepl_binary.py                      \u2502  \u2502\n\u2502  \u2502         (Unified WebREPL Binary Protocol)             \u2502  \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2502\n\u2502                             \u2502                               \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510 \u2502\n\u2502  \u2502   VFS    \u2502  \u2502     MicroPython        \u2502  \u2502   Settings   \u2502 \u2502\n\u2502  \u2502  (Files) \u2502  \u2502      Runtime           \u2502  \u2502   (JSON)     \u2502 \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518 \u2502\n\u2502                                                             \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u2502\n\u2502  \u2502              Hardware Abstraction Layer               \u2502  \u2502\n\u2502  \u2502   CAN \u2022 I2C \u2022 SPI \u2022 UART \u2022 GPIO \u2022 WiFi \u2022 BLE          \u2502  \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"developer/architecture/#key-components","title":"Key Components","text":""},{"location":"developer/architecture/#scripto-studio-browser","title":"ScriptO Studio (Browser)","text":"Component Technology Purpose Editor CodeMirror 6 Code editing with syntax highlighting File Manager Custom ESM Device filesystem navigation Terminal xterm.js Interactive REPL Extensions JS Configurator Pluggable UI panels Transport WebRTC/WebSocket Device communication"},{"location":"developer/architecture/#pydirect-device-esp32","title":"pyDirect Device (ESP32)","text":"Component Purpose webrepl_binary Binary protocol handler MicroPython Python runtime (1.27) ESP-IDF Hardware SDK (v5.5) Settings JSON configuration store"},{"location":"developer/architecture/#communication-flow","title":"Communication Flow","text":"<ol> <li>Connection: Client negotiates WebRTC (or falls back to WebSocket)</li> <li>Authentication: Challenge-response with hashed password</li> <li>Commands: Client sends requests, device responds</li> <li>Streaming: Device pushes logs and stdout continuously</li> </ol>"},{"location":"developer/architecture/#esm-module-structure","title":"ESM Module Structure","text":"<p>ScriptO Studio uses ES Modules for clean separation:</p> <pre><code>pwa/\n\u251c\u2500\u2500 js/\n\u2502   \u251c\u2500\u2500 app.js              # Application bootstrap\n\u2502   \u251c\u2500\u2500 connection.js       # Connection management\n\u2502   \u251c\u2500\u2500 terminal.js         # Terminal integration\n\u2502   \u251c\u2500\u2500 file-operations.js  # File manager logic\n\u2502   \u251c\u2500\u2500 store.js            # State management\n\u2502   \u2514\u2500\u2500 webrepl/\n\u2502       \u251c\u2500\u2500 webrepl.js      # Client protocol\n\u2502       \u2514\u2500\u2500 transports/     # WebRTC, WebSocket\n\u2514\u2500\u2500 components/             # UI components\n</code></pre>"},{"location":"developer/architecture/#design-principles","title":"Design Principles","text":"<ol> <li>Lazy Loading - Components loaded on demand</li> <li>Single Connection - One client per device</li> <li>Client-Provided Scripts - M2M logic stays under 10KB</li> <li>Minimalist UI - Clean, focused interface</li> </ol>"},{"location":"developer/architecture/#related","title":"Related","text":"<ul> <li>Building from Source</li> <li>ESM Modules</li> <li>WebREPL Binary Protocol</li> </ul>"},{"location":"developer/building-from-source/","title":"Building from Source","text":"<p>Coming Soon</p> <p>This page is under construction.</p> <p>Please check back later or contribute to the docs.</p>"},{"location":"developer/contributing/","title":"Contributing","text":"<p>Thank you for considering contributing to ScriptO Studio!</p>"},{"location":"developer/contributing/#ways-to-contribute","title":"Ways to Contribute","text":"<ul> <li>\ud83d\udc1b Report bugs - Open an issue</li> <li>\ud83d\udca1 Suggest features - Describe your idea in an issue</li> <li>\ud83d\udcd6 Improve docs - Edit wiki pages or README</li> <li>\ud83d\udd27 Submit code - Fix bugs or add features</li> <li>\ud83e\udde9 Create extensions - Share your extensions</li> </ul>"},{"location":"developer/contributing/#development-setup","title":"Development Setup","text":""},{"location":"developer/contributing/#prerequisites","title":"Prerequisites","text":"<ul> <li>Node.js 18+</li> <li>Git</li> </ul>"},{"location":"developer/contributing/#clone-and-install","title":"Clone and Install","text":"<pre><code>git clone https://github.com/jetpax/scriptostudio.git\ncd scriptostudio\nnpm install\n</code></pre>"},{"location":"developer/contributing/#run-development-server","title":"Run Development Server","text":"<pre><code>npm run dev\n</code></pre> <p>Opens at <code>http://localhost:5174</code></p>"},{"location":"developer/contributing/#code-style","title":"Code Style","text":"<ul> <li>JavaScript: ES modules, async/await</li> <li>CSS: Vanilla CSS, no frameworks</li> <li>Formatting: Consistent indentation (2 spaces)</li> </ul>"},{"location":"developer/contributing/#pull-request-process","title":"Pull Request Process","text":"<ol> <li>Fork the repository</li> <li>Create a branch: <code>git checkout -b feature/my-feature</code></li> <li>Make changes and test locally</li> <li>Commit: <code>git commit -m \"Add my feature\"</code></li> <li>Push: <code>git push origin feature/my-feature</code></li> <li>Open PR against <code>main</code> branch</li> </ol>"},{"location":"developer/contributing/#pr-guidelines","title":"PR Guidelines","text":"<ul> <li>Keep PRs focused on one change</li> <li>Include screenshots for UI changes</li> <li>Update docs if needed</li> <li>Test on Chrome and Firefox</li> </ul>"},{"location":"developer/contributing/#reporting-issues","title":"Reporting Issues","text":"<p>Include: - Browser and version - Steps to reproduce - Expected vs actual behavior - Console errors (if any) - Screenshots (if UI issue)</p>"},{"location":"developer/contributing/#questions","title":"Questions?","text":"<ul> <li>Check FAQ</li> <li>Open a Discussion</li> </ul>"},{"location":"developer/esm-modules/","title":"ESM Modules","text":"<p>Coming Soon</p> <p>This page is under construction.</p> <p>Please check back later or contribute to the docs.</p>"},{"location":"developer/micropython-reference/","title":"MicroPython Quick Reference for ScriptO Studio","text":"<p>This document provides a quick reference for MicroPython differences from CPython that are relevant to ScriptO Studio development.</p>"},{"location":"developer/micropython-reference/#official-documentation","title":"Official Documentation","text":"<p>Full MicroPython differences documentation: https://docs.micropython.org/en/latest/genrst/</p> <p>This is the authoritative source for all MicroPython vs CPython differences. Always refer to this when in doubt.</p>"},{"location":"developer/micropython-reference/#common-gotchas-encountered-in-this-project","title":"Common Gotchas Encountered in This Project","text":""},{"location":"developer/micropython-reference/#filesystem-operations","title":"Filesystem Operations","text":"<p>\u274c MicroPython does NOT have <code>os.path</code> module</p> <pre><code># \u274c WRONG - This will fail\nimport os.path\npath = os.path.join('/lib', 'vehicles', 'zombie_vcu')\ndirname = os.path.dirname(__file__)\nexists = os.path.exists(path)\n\n# \u2705 CORRECT - Use direct string manipulation\npath = '/lib/vehicles/zombie_vcu'\n# Check existence by trying to open/list\ntry:\n    os.listdir(path)  # If this works, it exists\nexcept OSError:\n    pass  # Doesn't exist\n</code></pre> <p>Alternatives: - Use string concatenation: <code>f'{base}/{subdir}/{file}'</code> or <code>base + '/' + subdir + '/' + file</code> - Check existence by trying operations: <code>os.listdir()</code>, <code>open()</code>, etc. - Use <code>os.stat()</code> to check if path exists (raises <code>OSError</code> if not)</p>"},{"location":"developer/micropython-reference/#string-methods","title":"String Methods","text":"<p>\u274c MicroPython strings do NOT have <code>.title()</code> method</p> <pre><code># \u274c WRONG - This will fail\nname = \"zombie_vcu\".replace('_', ' ').title()  # AttributeError!\n\n# \u2705 CORRECT - Implement manually\ndef title_case(text):\n    parts = text.replace('_', ' ').split(' ')\n    title_parts = []\n    for p in parts:\n        if len(p) &gt; 0:\n            title_parts.append(p[0].upper() + p[1:])\n        else:\n            title_parts.append(p)\n    return ' '.join(title_parts)\n\nname = title_case(\"zombie_vcu\")  # \"Zombie Vcu\"\n</code></pre> <p>Other string methods that may be missing: - <code>.capitalize()</code> - Implement manually - <code>.title()</code> - Implement manually (as shown above) - <code>.casefold()</code> - May not be available</p>"},{"location":"developer/micropython-reference/#f-strings","title":"F-Strings","text":"<p>\u2705 MicroPython DOES support f-strings (Python 3.6+ feature)</p> <pre><code># \u2705 This works fine\nname = \"zombie_vcu\"\npath = f'/lib/vehicles/{name}/{name}.py'\n</code></pre> <p>F-strings are supported in MicroPython, so use them freely.</p>"},{"location":"developer/micropython-reference/#standard-library-modules","title":"Standard Library Modules","text":"<p>Limited standard library - Many CPython modules are not available:</p> <ul> <li>\u274c <code>os.path</code> - Not available</li> <li>\u274c <code>pathlib</code> - Not available  </li> <li>\u274c <code>importlib.util</code> - Not available</li> <li>\u2705 <code>os</code> - Available (but limited - no <code>os.path</code>)</li> <li>\u2705 <code>sys</code> - Available</li> <li>\u2705 <code>json</code> - Available</li> <li>\u2705 <code>time</code> - Available</li> <li>\u2705 <code>gc</code> - Available (garbage collector)</li> </ul> <p>Check availability before using: <pre><code>try:\n    import some_module\nexcept ImportError:\n    # Module not available, use alternative\n    pass\n</code></pre></p>"},{"location":"developer/micropython-reference/#import-system","title":"Import System","text":"<p>Package imports work differently:</p> <pre><code># \u2705 CORRECT - Direct file execution (most reliable)\nwith open('/lib/vehicles/zombie_vcu/zombie_vcu.py', 'r') as f:\n    code = f.read()\nexec(code, namespace)\n\n# \u26a0\ufe0f Package imports may not work if __init__.py is missing\n# from vehicles.zombie_vcu import zombie_vcu  # May fail\n</code></pre>"},{"location":"developer/micropython-reference/#exception-handling","title":"Exception Handling","text":"<p>Exception objects may behave differently:</p> <pre><code># \u2705 CORRECT - Use str() for string conversion\ntry:\n    # something\nexcept Exception as e:\n    error_msg = str(e)  # Works\n    # e.message may not exist\n</code></pre>"},{"location":"developer/micropython-reference/#dictionary-comprehensions","title":"Dictionary Comprehensions","text":"<p>\u2705 Dictionary comprehensions work:</p> <pre><code># \u2705 This works fine\nvehicle_list = {k: v['name'] for k, v in VEHICLES.items()}\n</code></pre>"},{"location":"developer/micropython-reference/#file-operations","title":"File Operations","text":"<p>File operations work similarly:</p> <pre><code># \u2705 Standard file operations work\nwith open('/lib/config.json', 'r') as f:\n    data = f.read()\n\nwith open('/lib/output.txt', 'w') as f:\n    f.write('content')\n</code></pre>"},{"location":"developer/micropython-reference/#memory-constraints","title":"Memory Constraints","text":"<p>Be mindful of memory:</p> <ul> <li>Avoid loading large files into memory at once</li> <li>Use generators where possible</li> <li>Be careful with large lists/dicts</li> <li>Use <code>gc.collect()</code> if needed to force garbage collection</li> </ul>"},{"location":"developer/micropython-reference/#best-practices-for-scripto-studio","title":"Best Practices for ScriptO Studio","text":"<ol> <li>Always test on actual MicroPython device - Don't assume CPython compatibility</li> <li>Use try/except for filesystem operations - Check existence by trying operations</li> <li>Avoid <code>os.path</code> - Use string manipulation instead</li> <li>Implement missing string methods manually - Don't rely on <code>.title()</code>, <code>.capitalize()</code>, etc.</li> <li>Keep dependencies minimal - Only use MicroPython standard library</li> <li>Test imports - Wrap imports in try/except for optional modules</li> <li>Use f-strings - They're supported and cleaner than <code>.format()</code></li> </ol>"},{"location":"developer/micropython-reference/#testing-checklist","title":"Testing Checklist","text":"<p>Before committing code, verify:</p> <ul> <li>[ ] No <code>os.path</code> usage</li> <li>[ ] No <code>.title()</code> or <code>.capitalize()</code> on strings</li> <li>[ ] File operations wrapped in try/except</li> <li>[ ] Imports checked for availability</li> <li>[ ] Code tested on actual MicroPython device</li> <li>[ ] Memory usage is reasonable</li> </ul>"},{"location":"developer/micropython-reference/#resources","title":"Resources","text":"<ul> <li>Official MicroPython Docs: https://docs.micropython.org/en/latest/genrst/</li> <li>MicroPython Language Reference: https://docs.micropython.org/en/latest/reference/</li> <li>MicroPython Libraries: https://docs.micropython.org/en/latest/library/</li> </ul>"},{"location":"developer/micropython-reference/#project-specific-notes","title":"Project-Specific Notes","text":""},{"location":"developer/micropython-reference/#esp32-port-specifics","title":"ESP32 Port Specifics","text":"<ul> <li>Uses ESP-IDF v5.4.2</li> <li>Has access to hardware-specific modules (<code>machine</code>, <code>network</code>, etc.)</li> <li>WebREPL available for remote access</li> <li>File system is typically SPIFFS or LittleFS</li> </ul>"},{"location":"developer/micropython-reference/#scripto-studio-integration","title":"ScriptO Studio Integration","text":"<ul> <li>Extensions run in MicroPython on the device</li> <li>Communication via WebREPL Binary Protocol (WBP)</li> <li>Notifications via <code>webrepl.notify({\"key\": value})</code> - sends CBOR-encoded INFO events</li> <li>Device API provides <code>execute()</code> for running code and parsing responses</li> </ul>"},{"location":"developer/registry/","title":"ScriptO Registry","text":"<p>A browsable registry of ScriptOs for MicroPython, automatically built and published to GitHub Pages.</p>"},{"location":"developer/registry/#structure","title":"Structure","text":"<ul> <li><code>ScriptOs/</code> - Source ScriptO files (<code>.py</code> files with config blocks)</li> <li><code>tools/build_index.py</code> - Build script that generates <code>index.json</code></li> <li><code>tools/generate_catalogue.py</code> - Generates browsable HTML catalogue</li> <li><code>.github/workflows/build_and_publish.yml</code> - GitHub Actions workflow</li> </ul>"},{"location":"developer/registry/#usage","title":"Usage","text":""},{"location":"developer/registry/#building-locally","title":"Building Locally","text":"<pre><code># Generate index.json\npython3 tools/build_index.py \\\n  --scriptos-dir ScriptOs \\\n  --output index.json \\\n  --repo-url https://github.com/USERNAME/REPO \\\n  --branch main\n\n# Generate HTML catalogue\npython3 tools/generate_catalogue.py \\\n  --index index.json \\\n  --output catalogue \\\n  --scriptos-dir ScriptOs\n</code></pre>"},{"location":"developer/registry/#installing-scriptos","title":"Installing ScriptOs","text":"<p>Once published, ScriptOs can be installed via URL:</p> <pre><code>?install=github:USERNAME/REPO/ScriptOs/Name.py\n</code></pre> <p>Or browse the catalogue at: <pre><code>https://USERNAME.github.io/REPO/catalogue/\n</code></pre></p>"},{"location":"developer/registry/#index-format","title":"Index Format","text":"<p>The <code>index.json</code> file contains:</p> <pre><code>{\n  \"v\": 1,\n  \"updated\": 1234567890,\n  \"scriptos\": [\n    {\n      \"name\": \"ScriptO Name\",\n      \"filename\": \"ScriptO.py\",\n      \"version\": [1, 0, 0],\n      \"author\": \"Author Name\",\n      \"description\": \"Description\",\n      \"category\": \"Category\",\n      \"tags\": [\"tag1\", \"tag2\"],\n      \"license\": \"MIT\",\n      \"source_url\": \"https://...\",\n      \"source_repo\": \"owner/repo\",\n      \"upstream_version\": \"1.2.3\",\n      \"docs\": \"https://...\",\n      \"url\": \"https://raw.githubusercontent.com/...\"\n    }\n  ]\n}\n</code></pre> <p>Extended Fields for Converted Libraries: - <code>source_url</code> - Original library URL - <code>source_repo</code> - GitHub repository (owner/repo) - <code>upstream_version</code> - Latest version from source - <code>tags</code> - Includes category + custom tags + <code>untested</code> </p>"},{"location":"developer/registry/#adding-scriptos","title":"Adding ScriptOs","text":""},{"location":"developer/registry/#manual-addition","title":"Manual Addition","text":"<ol> <li>Add your <code>.py</code> file to the <code>ScriptOs/</code> directory</li> <li>Ensure it has a config block between <code># === START_CONFIG_PARAMETERS ===</code> and <code># === END_CONFIG_PARAMETERS ===</code></li> <li>Push to GitHub - the workflow will automatically build and publish</li> </ol>"},{"location":"developer/registry/#automated-conversion","title":"Automated Conversion","text":"<p>Use the conversion tool to import libraries from Awesome MicroPython:</p> <pre><code>cd tools\npython3 convert_awesome_mp.py\n</code></pre> <p>Interactive Mode: <pre><code>$ python3 convert_awesome_mp.py\nEnter GitHub repository URL: https://github.com/adafruit/Adafruit_CircuitPython_SSD1306\nEnter category (e.g., Display, Sensor, Communications): Display\n</code></pre></p> <p>Batch Mode: <pre><code># Create a list of repos to convert\nrepos = [\n    (\"https://github.com/adafruit/Adafruit_CircuitPython_SSD1306\", \"Display\"),\n    (\"https://github.com/peterhinch/micropython-mqtt\", \"Communications\"),\n]\n\n# Run converter\nfor url, category in repos:\n    # Manual or scripted conversion\n    pass\n</code></pre></p> <p>Update Checking: <pre><code># Check all converted libraries for updates\npython3 check_updates.py\n\n# Show only libraries with updates available\npython3 check_updates.py --update-available\n</code></pre></p>"},{"location":"developer/registry/#github-pages","title":"GitHub Pages","text":"<p>The registry is automatically published to the <code>gh-pages</code> branch on every push. Enable GitHub Pages in repository settings to make it accessible.</p>"},{"location":"developer/shortcuts/","title":"Development Shortcut: Update Extensions Without Version Bump","text":"<p>During development, you can update extension JavaScript directly in the browser without going through the full registry/version bump cycle.</p>"},{"location":"developer/shortcuts/#method-1-load-from-local-file-server-easiest","title":"Method 1: Load from Local File Server (Easiest)","text":"<ol> <li> <p>Start a simple HTTP server in the registry directory:    <pre><code>cd scripto-studio-registry\npython3 -m http.server 8000\n# or: npx http-server -p 8000\n</code></pre></p> </li> <li> <p>Open browser DevTools (F12) \u2192 Console tab</p> </li> <li> <p>Run this command: <pre><code>await updateExtensionDev('gvret-manager', 'http://localhost:8000/Extensions/GVRET/GVRET.js')\n</code></pre></p> </li> <li> <p>Reload the extension panel (close and reopen the extension menu item)</p> </li> </ol>"},{"location":"developer/shortcuts/#method-2-use-file-input-no-server-needed","title":"Method 2: Use File Input (No Server Needed)","text":"<ol> <li> <p>Open browser DevTools (F12) \u2192 Console tab</p> </li> <li> <p>Run this helper: <pre><code>// Create file input\nconst input = document.createElement('input')\ninput.type = 'file'\ninput.accept = '.js'\ninput.onchange = async (e) =&gt; {\n  const file = e.target.files[0]\n  const content = await file.text()\n  await state.extensionRegistry.updateExtensionDev('gvret-manager', content)\n  console.log('\u2705 Extension updated! Reload the extension panel.')\n}\ninput.click()\n</code></pre></p> </li> <li> <p>Select your <code>GVRET.js</code> file from the file picker</p> </li> <li> <p>Reload the extension panel</p> </li> </ol>"},{"location":"developer/shortcuts/#method-3-direct-indexeddb-update-advanced","title":"Method 3: Direct IndexedDB Update (Advanced)","text":"<p>You can also directly update IndexedDB using browser DevTools:</p> <ol> <li>Open DevTools \u2192 Application \u2192 IndexedDB</li> <li>Navigate to <code>scripto-studio-extension-registry</code> \u2192 <code>extensions</code> store</li> <li>Find your extension (e.g., <code>gvret-manager</code>)</li> <li>Edit the <code>content</code> field with your new code</li> <li>Save and reload</li> </ol>"},{"location":"developer/shortcuts/#notes","title":"Notes","text":"<ul> <li>This only updates the cached extension in your browser</li> <li>Other users won't see changes until you bump version and push to registry</li> <li>The extension must be installed first (via normal registry flow)</li> <li>Changes persist until you uninstall/reinstall the extension</li> <li>Use this for rapid iteration during development</li> </ul>"},{"location":"developer/shortcuts/#example-updating-gvretjs","title":"Example: Updating GVRET.js","text":"<pre><code>// 1. Read your local file\nconst fs = require('fs')  // Node.js only\nconst content = fs.readFileSync('/path/to/GVRET.js', 'utf8')\n\n// 2. Copy the content string\n\n// 3. In browser console:\nawait state.extensionRegistry.updateExtensionDev('gvret-manager', content)\n\n// 4. Reload extension panel\n</code></pre>"},{"location":"device-setup/board-configurations/","title":"Board Configurations","text":"<p>Coming Soon</p> <p>This page is under construction.</p> <p>Please check back later or contribute to the docs.</p>"},{"location":"device-setup/flashing-firmware/","title":"Flashing Firmware","text":"<p>Install pyDirect firmware on your ESP32-S3 device.</p>"},{"location":"device-setup/flashing-firmware/#supported-hardware","title":"Supported Hardware","text":"Board Chip Flash PSRAM Status ESP32-S3-DevKitC-1 ESP32-S3 16MB 8MB \u2705 Recommended ESP32-S3-WROOM-1 ESP32-S3 8MB+ 2MB+ \u2705 Supported LilyGO T-Display-S3 ESP32-S3 16MB 8MB \u2705 Supported Generic ESP32-S3 ESP32-S3 4MB+ Optional \u26a0\ufe0f Limited <p>[!IMPORTANT] ESP32-S3 with SPIRAM (PSRAM) is strongly recommended for reliable operation.</p>"},{"location":"device-setup/flashing-firmware/#method-1-web-installer-easiest","title":"Method 1: Web Installer (Easiest)","text":"<ol> <li>Visit pydirect.com/flash</li> <li>Connect your device via USB</li> <li>Click Connect and select the serial port</li> <li>Choose your board type</li> <li>Click Flash</li> </ol> <p>[!NOTE] Requires Chrome or Edge browser with WebSerial support.</p>"},{"location":"device-setup/flashing-firmware/#method-2-esptoolpy","title":"Method 2: esptool.py","text":""},{"location":"device-setup/flashing-firmware/#prerequisites","title":"Prerequisites","text":"<pre><code>pip install esptool\n</code></pre>"},{"location":"device-setup/flashing-firmware/#download-firmware","title":"Download Firmware","text":"<p>Get the latest firmware from Releases:</p> <ul> <li><code>pydirect-esp32s3-vX.X.X.bin</code> - Combined binary</li> </ul>"},{"location":"device-setup/flashing-firmware/#flash-commands","title":"Flash Commands","text":"<p>Erase and flash (recommended for first install):</p> <pre><code># Erase flash\nesptool.py --chip esp32s3 --port /dev/ttyUSB0 erase_flash\n\n# Flash firmware\nesptool.py --chip esp32s3 --port /dev/ttyUSB0 \\\n  --baud 921600 \\\n  write_flash -z 0x0 pydirect-esp32s3-vX.X.X.bin\n</code></pre> <p>macOS port: <code>/dev/cu.usbserial-*</code> or <code>/dev/cu.SLAB_USBtoUART</code></p> <p>Windows port: <code>COM3</code> (check Device Manager)</p>"},{"location":"device-setup/flashing-firmware/#boot-mode","title":"Boot Mode","text":"<p>If device doesn't flash:</p> <ol> <li>Hold BOOT button</li> <li>Press and release RESET button</li> <li>Release BOOT button</li> <li>Device is now in flash mode</li> </ol>"},{"location":"device-setup/flashing-firmware/#method-3-build-from-source","title":"Method 3: Build from Source","text":"<p>For developers who want to customize the firmware.</p>"},{"location":"device-setup/flashing-firmware/#prerequisites_1","title":"Prerequisites","text":"<ul> <li>ESP-IDF v5.5.1</li> <li>Python 3.10+</li> <li>Git</li> </ul>"},{"location":"device-setup/flashing-firmware/#build-steps","title":"Build Steps","text":"<pre><code># Clone repository\ngit clone --recursive https://github.com/jetpax/pyDirect.git\ncd pyDirect\n\n# Set up ESP-IDF\nsource ~/esp/esp-idf-v5.5.1/export.sh\n\n# Configure for your board\ncp boards/ESP32_S3_16MB/sdkconfig.board sdkconfig\n\n# Build\nmake submodules\nmake mpy-cross\nmake\n\n# Flash\nmake deploy PORT=/dev/ttyUSB0\n</code></pre> <p>See BUILD_GUIDE.md for detailed instructions.</p>"},{"location":"device-setup/flashing-firmware/#after-flashing","title":"After Flashing","text":"<ol> <li>Device will reboot and create AP: <code>pyDirect-XXXX</code></li> <li>Connect to the AP network</li> <li>Open ScriptO Studio at <code>http://192.168.4.1</code></li> <li>Configure WiFi in Settings</li> <li>Device will reboot and connect to your network</li> </ol>"},{"location":"device-setup/flashing-firmware/#troubleshooting","title":"Troubleshooting","text":""},{"location":"device-setup/flashing-firmware/#failed-to-connect-to-esp32-s3","title":"\"Failed to connect to ESP32-S3\"","text":"<ul> <li>Check USB cable supports data (not charge-only)</li> <li>Try a different USB port</li> <li>Install USB drivers (CP210x or CH340 depending on board)</li> <li>Put device in boot mode manually</li> </ul>"},{"location":"device-setup/flashing-firmware/#a-fatal-error-occurred-md5-of-file-does-not-match","title":"\"A fatal error occurred: MD5 of file does not match\"","text":"<ul> <li>Download firmware again (file may be corrupted)</li> <li>Use a slower baud rate: <code>--baud 115200</code></li> </ul>"},{"location":"device-setup/flashing-firmware/#device-doesnt-boot-after-flash","title":"Device doesn't boot after flash","text":"<ul> <li>Verify correct firmware for your board</li> <li>Try erasing flash first</li> <li>Check PSRAM configuration matches your hardware</li> </ul>"},{"location":"device-setup/flashing-firmware/#related","title":"Related","text":"<ul> <li>Board Configurations</li> <li>Network Setup</li> <li>Provisioning</li> </ul>"},{"location":"device-setup/network-setup/","title":"Network Setup","text":"<p>Configure WiFi on your pyDirect device.</p>"},{"location":"device-setup/network-setup/#using-scripto-studio","title":"Using ScriptO Studio","text":"<ol> <li>Go to scriptostudio.com or use the embedded IDE</li> <li>Click Onboard New Device from the landing page</li> <li>Connect your device via USB and click Connect Device</li> <li>Select Change WiFi from the scenarios</li> <li>A modal displays available networks with signal strength</li> <li>Select your network and enter the password</li> <li>Device connects and saves settings</li> <li>You're returned to the scenarios screen</li> </ol> <p>[!NOTE] Changing WiFi only updates network settings. To generate new certificates,  use Re-provision Device afterward.</p>"},{"location":"device-setup/network-setup/#network-selection-modal","title":"Network Selection Modal","text":"<p>The network selection shows:</p> <ul> <li>Network name (SSID) - The name of the WiFi network</li> <li>Signal strength in dBm - e.g., -49 dBm is excellent, -70 dBm is fair, -90 dBm is weak</li> <li>Lock icon - Indicates the network requires a password</li> </ul>"},{"location":"device-setup/network-setup/#after-changing-wifi","title":"After Changing WiFi","text":"<p>After WiFi is configured, you're returned to the scenarios screen where you can:</p> <ul> <li>Disconnect - If you just needed to update network settings</li> <li>Re-provision Device - If you need new HTTPS certificates</li> </ul>"},{"location":"device-setup/network-setup/#troubleshooting","title":"Troubleshooting","text":""},{"location":"device-setup/network-setup/#network-not-appearing","title":"Network not appearing?","text":"<ul> <li>Make sure the network is broadcasting its SSID (not hidden)</li> <li>Move device closer to the router</li> <li>Try rescanning by going back and selecting Change WiFi again</li> </ul>"},{"location":"device-setup/network-setup/#connection-fails","title":"Connection fails?","text":"<ul> <li>Verify the password is correct</li> <li>Check if MAC filtering is enabled on your router</li> <li>Ensure you're connecting to a 2.4 GHz network (ESP32 doesn't support 5 GHz)</li> </ul>"},{"location":"device-setup/network-setup/#wrong-network-saved","title":"Wrong network saved?","text":"<p>Simply run Change WiFi again to select a different network.</p>"},{"location":"device-setup/network-setup/#related","title":"Related","text":"<ul> <li>Provisioning - Generate HTTPS certificates</li> <li>Flashing Firmware - Install pyDirect firmware</li> <li>Troubleshooting Connection - Connection issues</li> </ul>"},{"location":"device-setup/provisioning/","title":"Provisioning","text":"<p>Generate HTTPS certificates and configure device security.</p>"},{"location":"device-setup/provisioning/#what-is-provisioning","title":"What is Provisioning?","text":"<p>Provisioning (also called \"blessing\") generates:</p> <ul> <li>A unique self-signed HTTPS certificate for secure connections</li> <li>Enables the device's web interface at <code>https://pydirect-xxxx.local</code></li> </ul>"},{"location":"device-setup/provisioning/#when-to-re-provision","title":"When to Re-provision","text":"<p>Use Re-provision Device when:</p> <ul> <li>Setting up a new device after flashing firmware and configuring WiFi</li> <li>Renewing expired certificates</li> <li>After changing the device hostname</li> <li>Troubleshooting connection issues</li> <li>You want a fresh start with new credentials</li> </ul>"},{"location":"device-setup/provisioning/#provisioning-steps","title":"Provisioning Steps","text":"<ol> <li>Connect device via USB in ScriptO Studio</li> <li>Click Connect Device and wait for detection</li> <li>Select Re-provision Device from the scenarios</li> <li>The IDE generates a new certificate and installs it</li> <li>Device resets and connects to WiFi</li> <li>A modal explains you'll see a security warning</li> <li>Click Connect to [hostname] to open the device</li> <li>Accept the browser security warning (Advanced \u2192 Proceed)</li> <li>Set your device password on the web interface</li> </ol> <p>[!TIP] The security warning is expected! It appears because the certificate  is self-signed. You only need to accept it once per browser.</p>"},{"location":"device-setup/provisioning/#the-security-warning-modal","title":"The Security Warning Modal","text":"<p>After provisioning completes, a styled modal appears explaining:</p> <ul> <li>Device is restarting and connecting to WiFi (~10 seconds)</li> <li>You'll see a browser security warning - this is expected</li> <li>Click \"Advanced\" \u2192 \"Proceed\" to trust the certificate</li> </ul> <p>Click the Connect button to open your device's web interface in a new tab.</p>"},{"location":"device-setup/provisioning/#two-step-onboarding-flow","title":"Two-Step Onboarding Flow","text":"<p>The onboarding flow is now two separate steps:</p> Step Scenario Purpose 1 Change WiFi Configure network settings only 2 Re-provision Generate certificates and enable HTTPS <p>This separation allows you to:</p> <ul> <li>\u2705 Update WiFi without regenerating certificates</li> <li>\u2705 Re-provision without reconfiguring WiFi</li> <li>\u2705 Choose when to generate new certificates</li> </ul>"},{"location":"device-setup/provisioning/#troubleshooting","title":"Troubleshooting","text":""},{"location":"device-setup/provisioning/#device-doesnt-appear-after-reset","title":"Device doesn't appear after reset?","text":"<ul> <li>Wait 10-15 seconds for WiFi connection</li> <li>Try accessing device via IP address if <code>.local</code> doesn't resolve</li> <li>Check your router's connected devices list</li> </ul>"},{"location":"device-setup/provisioning/#certificate-warning-keeps-appearing","title":"Certificate warning keeps appearing?","text":"<ul> <li>Make sure you clicked \"Proceed\" to trust the certificate</li> <li>Try clearing browser cache for the device hostname</li> <li>Re-provision to generate a fresh certificate</li> </ul>"},{"location":"device-setup/provisioning/#cant-access-device-after-provisioning","title":"Can't access device after provisioning?","text":"<ul> <li>Verify device is on the same network as your computer</li> <li>Check that WiFi was configured before provisioning</li> <li>Try the device's IP address instead of hostname</li> </ul>"},{"location":"device-setup/provisioning/#related","title":"Related","text":"<ul> <li>Network Setup - Configure WiFi settings</li> <li>Flashing Firmware - Install pyDirect firmware</li> <li>Connection Guide - Connect to your device</li> </ul>"},{"location":"extensions/","title":"Extensions","text":"<p>Extensions add new functionality to ScriptO Studio through the JS Configurator pattern - JavaScript classes that provide custom UI panels and device-side Python libraries.</p> <p></p>"},{"location":"extensions/#what-are-extensions","title":"What are Extensions?","text":"<p>Extensions are bundled JavaScript modules that integrate into ScriptO Studio to:</p> <ul> <li>Add new sidebar menu tabs with custom UI</li> <li>Deploy device-side Python libraries during installation</li> <li>Communicate with hardware using the M2M (machine-to-machine) pattern</li> <li>Provide specialized tools for specific use cases</li> </ul>"},{"location":"extensions/#extension-structure","title":"Extension Structure","text":"<p>Extensions use a modular source structure:</p> <pre><code>MyExtension/\n\u251c\u2500\u2500 extension.json      # Metadata and configuration\n\u251c\u2500\u2500 src/\n\u2502   \u2514\u2500\u2500 index.js       # Entry point (exports class)\n\u2514\u2500\u2500 device/             # Device-side files (optional)\n    \u2514\u2500\u2500 lib/\n</code></pre> <p>These are bundled into a single <code>.bundle.js</code> file for distribution.</p>"},{"location":"extensions/#built-in-extensions","title":"Built-in Extensions","text":"Extension Description DBE Battery emulator with MQTT integration OpenInverter Motor controller configuration DTC Explorer Diagnostic Trouble Code viewer OVMS Open Vehicle Monitoring System interface"},{"location":"extensions/#extensions-vs-scriptos","title":"Extensions vs ScriptOs","text":"<p>Both Extensions and ScriptOs expand ScriptO Studio functionality, but they serve different purposes:</p> Aspect Extensions ScriptOs Language JavaScript (+ Python libs) Python only UI Location Sidebar tabs Run from ScriptOs panel Persistence Always loaded Run on-demand Use Case Complex tools with dedicated UI Quick utilities, demos, automation Install Via registry, deploys device libs Just run from registry <p>Choose Extensions when you need: - Permanent sidebar presence - Complex multi-panel interfaces - Bundled device-side libraries</p> <p>Choose ScriptOs when you need: - Quick one-off scripts - Simple UI plugins (iframe modals) - Hardware testing/diagnostics</p>"},{"location":"extensions/#getting-started","title":"Getting Started","text":"<ul> <li>Writing Extensions - Create your own extension</li> <li>Extension API - Full API reference</li> <li>Device Libraries - Python libraries for device</li> <li>Built-in Extensions - Example implementations</li> </ul>"},{"location":"extensions/built-in-extensions/","title":"Built-in Extensions","text":"<p>ScriptO Studio includes several pre-built extensions for common use cases.</p>"},{"location":"extensions/built-in-extensions/#dbe-battery-emulator","title":"DBE (Battery Emulator)","text":"<p>ID: <code>dbe</code></p> <p>Dala's Battery Emulator - bridges EV battery packs to solar inverters via CAN-to-RS485.</p> <p>Features: - Support for Nissan LEAF, BMW i3, and other battery packs - Pylon CAN and SMA inverter protocols - MQTT integration with Home Assistant auto-discovery - Real-time battery metrics and status</p> <p>Panels: Configuration, Status, Metrics, MQTT</p>"},{"location":"extensions/built-in-extensions/#openinverter","title":"OpenInverter","text":"<p>ID: <code>openinverter</code></p> <p>Complete suite for OpenInverter motor controllers.</p> <p>Features: - Parameter configuration and management - CAN message mapping (TX/RX) - Spot value monitoring with charts - Device discovery on CAN bus</p> <p>Panels: Device Manager, Parameters, Telemetry, CAN Mappings, OTA</p>"},{"location":"extensions/built-in-extensions/#dtc-explorer","title":"DTC Explorer","text":"<p>ID: <code>dtc-explorer</code></p> <p>Diagnostic Trouble Code viewer using UDS/ISO 14229.</p> <p>Features: - Read and clear DTCs from ECUs - Standard code definitions (SAE J2012) - Support for manufacturer-specific codes</p>"},{"location":"extensions/built-in-extensions/#ovms","title":"OVMS","text":"<p>ID: <code>ovms</code></p> <p>Open Vehicle Monitoring System interface.</p> <p>Features: - Vehicle telemetry display - Remote commands - Charge scheduling - GPS location</p>"},{"location":"extensions/built-in-extensions/#gvret","title":"GVRET","text":"<p>ID: <code>gvret</code></p> <p>CAN bus analyzer using GVRET protocol.</p> <p>Features: - Live CAN frame capture - DBC file parsing - Signal decoding - Export to CSV/ASC</p>"},{"location":"extensions/built-in-extensions/#source-code","title":"Source Code","text":"<p>All built-in extensions follow the modular structure:</p> <pre><code>ExtensionName/\n\u251c\u2500\u2500 extension.json\n\u251c\u2500\u2500 src/\n\u2502   \u2514\u2500\u2500 index.js\n\u2514\u2500\u2500 device/\n    \u2514\u2500\u2500 lib/\n</code></pre> <p>View source on GitHub: scriptostudio/registry/Extensions</p>"},{"location":"extensions/device-libraries/","title":"Device Libraries","text":"<p>Extensions can bundle Python libraries that are deployed to the device during installation.</p>"},{"location":"extensions/device-libraries/#structure","title":"Structure","text":"<p>Device files live in the <code>device/</code> directory of your extension:</p> <pre><code>MyExtension/\n\u251c\u2500\u2500 extension.json\n\u251c\u2500\u2500 src/\n\u2502   \u2514\u2500\u2500 index.js\n\u2514\u2500\u2500 device/\n    \u2514\u2500\u2500 lib/\n        \u2514\u2500\u2500 helpers.py\n</code></pre>"},{"location":"extensions/device-libraries/#devicepaths-mapping","title":"devicePaths Mapping","text":"<p>In <code>extension.json</code>, map source files to device destinations:</p> <pre><code>{\n  \"devicePaths\": {\n    \"lib/helpers.py\": \"/lib/ext/my-extension/helpers.py\",\n    \"lib/utils.py\": \"/lib/ext/my-extension/utils.py\",\n    \"lib/submodule/__init__.py\": \"/lib/ext/my-extension/submodule/__init__.py\"\n  }\n}\n</code></pre> <p>Convention: Device files should go to <code>/lib/ext/&lt;extension-id&gt;/</code></p>"},{"location":"extensions/device-libraries/#installation-flow","title":"Installation Flow","text":"<ol> <li>User clicks Install in the extension marketplace</li> <li>ScriptO Studio downloads the bundle</li> <li>If connected, calls <code>onInstall()</code> on the extension instance</li> <li>Extension writes files from <code>this.deviceFiles</code> to device</li> </ol>"},{"location":"extensions/device-libraries/#oninstall-implementation","title":"onInstall Implementation","text":"<pre><code>async onInstall() {\n  if (!this.state.isConnected) return false\n\n  try {\n    // Create directories\n    await this.device.mkdir('/lib/ext/my-extension')\n    await this.device.mkdir('/lib/ext/my-extension/submodule')\n\n    // Write all device files\n    for (const [path, content] of Object.entries(this.deviceFiles)) {\n      console.log(`Writing ${path}...`)\n      await this.device.saveFile(path, content)\n    }\n\n    return true\n  } catch (e) {\n    console.error('Installation failed:', e)\n    return false\n  }\n}\n</code></pre>"},{"location":"extensions/device-libraries/#import-paths","title":"Import Paths","text":"<p>Device code imports from the installed path:</p> <pre><code># In your device code\nfrom lib.ext.my_extension.helpers import my_function\n</code></pre>"},{"location":"extensions/device-libraries/#best-practices","title":"Best Practices","text":"<ol> <li>Keep files small - Device flash is limited</li> <li>Avoid heavy dependencies - Files should be self-contained</li> <li>Use lazy imports - Import modules only when needed</li> <li>Skip verification in onInstall - Python imports may fail if dependencies aren't available yet</li> </ol>"},{"location":"extensions/device-libraries/#bundle-process","title":"Bundle Process","text":"<p>The bundler: 1. Reads <code>devicePaths</code> from <code>extension.json</code> 2. Reads each source file from <code>device/</code> 3. Base64-encodes the content 4. Embeds as <code>__DEVICE_FILES__</code> in the bundle</p> <p>At runtime, the loader decodes <code>__DEVICE_FILES__</code> and injects it as <code>instance.deviceFiles</code>.</p>"},{"location":"extensions/extension-api/","title":"Extension API","text":"<p>API reference for extension developers.</p>"},{"location":"extensions/extension-api/#constructor-arguments","title":"Constructor Arguments","text":"<p>Extensions receive four arguments:</p> <pre><code>constructor(deviceAPI, emit, state, html) {\n  this.device = deviceAPI  // Device communication\n  this.emit = emit         // Event emitter\n  this.state = state       // Shared state\n  this.html = html         // Template renderer\n}\n</code></pre>"},{"location":"extensions/extension-api/#device-api","title":"Device API","text":"<p>The <code>deviceAPI</code> object provides device communication:</p>"},{"location":"extensions/extension-api/#executecode","title":"execute(code)","text":"<p>Execute Python code on the device. Returns output as a string.</p> <pre><code>const result = await this.device.execute('print(1 + 1)')\n// result = \"2\"\n</code></pre>"},{"location":"extensions/extension-api/#savefilepath-content","title":"saveFile(path, content)","text":"<p>Write a file to the device filesystem.</p> <pre><code>await this.device.saveFile('/lib/my_module.py', 'print(\"hello\")')\n</code></pre>"},{"location":"extensions/extension-api/#readfilepath","title":"readFile(path)","text":"<p>Read a file from the device. Returns content as string.</p> <pre><code>const content = await this.device.readFile('/boot.py')\n</code></pre>"},{"location":"extensions/extension-api/#mkdirpath","title":"mkdir(path)","text":"<p>Create a directory. Succeeds silently if directory exists.</p> <pre><code>await this.device.mkdir('/lib/ext/my-extension')\n</code></pre>"},{"location":"extensions/extension-api/#listdirpath","title":"listDir(path)","text":"<p>List directory contents. Returns array of entries.</p> <pre><code>const files = await this.device.listDir('/lib')\n// files = [{ name: 'sys', isDir: true }, { name: 'boot.py', isDir: false }]\n</code></pre>"},{"location":"extensions/extension-api/#removefilepath","title":"removeFile(path)","text":"<p>Delete a file from the device.</p> <pre><code>await this.device.removeFile('/temp.txt')\n</code></pre>"},{"location":"extensions/extension-api/#state-object","title":"State Object","text":"<p>The <code>state</code> object is shared across all extensions and the main app:</p> <pre><code>// Read connection status\nif (this.state.isConnected) {\n  // Device is connected\n}\n\n// Store extension-specific data\nif (!this.state.myExtension) {\n  this.state.myExtension = { config: {} }\n}\n</code></pre>"},{"location":"extensions/extension-api/#common-state-properties","title":"Common State Properties","text":"Property Type Description <code>isConnected</code> boolean Device connected via WebREPL <code>deviceInfo</code> object Device metadata (board, flash, etc.) <code>files</code> array Current file listing"},{"location":"extensions/extension-api/#emit-function","title":"Emit Function","text":"<p>Trigger events in the application:</p> <pre><code>// Re-render the current panel\nthis.emit('render')\n\n// Refresh file listing\nthis.emit('refresh-files')\n</code></pre>"},{"location":"extensions/extension-api/#html-template","title":"HTML Template","text":"<p>The <code>html</code> function is a tagged template literal for rendering:</p> <pre><code>renderMyPanel() {\n  const items = ['A', 'B', 'C']\n\n  return this.html`\n    &lt;div class=\"system-panel\"&gt;\n      &lt;div class=\"panel-header\"&gt;\n        &lt;h2&gt;My Panel&lt;/h2&gt;\n      &lt;/div&gt;\n      &lt;ul&gt;\n        ${items.map(item =&gt; this.html`&lt;li&gt;${item}&lt;/li&gt;`)}\n      &lt;/ul&gt;\n    &lt;/div&gt;\n  `\n}\n</code></pre>"},{"location":"extensions/extension-api/#event-handlers","title":"Event Handlers","text":"<p>Use <code>onclick</code>, <code>onchange</code>, etc. with arrow functions:</p> <pre><code>return this.html`\n  &lt;button onclick=${() =&gt; this.handleClick()}&gt;\n    Click Me\n  &lt;/button&gt;\n  &lt;input \n    type=\"text\" \n    value=${this.state.myExtension.name}\n    oninput=${(e) =&gt; this.handleInput(e.target.value)}\n  /&gt;\n`\n</code></pre>"},{"location":"extensions/extension-api/#conditionals","title":"Conditionals","text":"<pre><code>return this.html`\n  ${this.state.isConnected\n    ? this.html`&lt;p&gt;Connected!&lt;/p&gt;`\n    : this.html`&lt;p&gt;Not connected&lt;/p&gt;`\n  }\n`\n</code></pre>"},{"location":"extensions/extension-api/#lifecycle-hooks","title":"Lifecycle Hooks","text":""},{"location":"extensions/extension-api/#oninstall","title":"onInstall()","text":"<p>Called when user installs the extension while connected to a device:</p> <pre><code>async onInstall() {\n  // this.deviceFiles is injected by the loader\n  for (const [path, content] of Object.entries(this.deviceFiles)) {\n    await this.device.saveFile(path, content)\n  }\n  return true  // Return false to indicate failure\n}\n</code></pre>"},{"location":"extensions/extension-api/#getmenuitems","title":"getMenuItems()","text":"<p>Optional. Return dynamic menu items:</p> <pre><code>getMenuItems() {\n  const items = [{ id: 'main', label: 'Main' }]\n\n  // Add items based on state\n  if (this.state.devices?.length &gt; 0) {\n    this.state.devices.forEach(d =&gt; {\n      items.push({ id: `device-${d.id}`, label: d.name })\n    })\n  }\n\n  return items\n}\n</code></pre>"},{"location":"extensions/extension-api/#css-classes","title":"CSS Classes","text":"<p>Use these system classes for consistent styling:</p> Class Description <code>.system-panel</code> Standard panel container <code>.panel-header</code> Panel header with h2 and actions <code>.panel-message</code> Centered message text <p>Define extension-specific styles in <code>extension.json</code>:</p> <pre><code>{\n  \"styles\": \".my-btn { background: var(--scheme-primary); }\"\n}\n</code></pre>"},{"location":"extensions/versioning/","title":"Extension Versioning Guide","text":""},{"location":"extensions/versioning/#when-to-bump-extension-versions","title":"When to Bump Extension Versions","text":"<p>Always bump the version number in extension JavaScript files when making changes so that the registry properly updates and users get the new version.</p>"},{"location":"extensions/versioning/#version-format","title":"Version Format","text":"<p>Extensions use semantic versioning in the format: <code>[major, minor, patch]</code></p> <p>Example: <pre><code>//   \"version\": [1, 2, 0],\n</code></pre></p>"},{"location":"extensions/versioning/#checklist-before-committing-extension-changes","title":"Checklist Before Committing Extension Changes","text":"<ul> <li>[ ] Update version number in extension JS file (e.g., <code>GVRET.js</code>)</li> <li>[ ] Test the extension works with the new changes</li> <li>[ ] Commit both the code changes AND the version bump</li> </ul>"},{"location":"extensions/versioning/#examples","title":"Examples","text":"<ul> <li>GVRET.js: Bumped from <code>[1, 1, 0]</code> to <code>[1, 2, 0]</code> when refactoring to use shared CAN bus infrastructure</li> <li>Other extensions: Follow the same pattern</li> </ul>"},{"location":"extensions/versioning/#why-this-matters","title":"Why This Matters","text":"<p>The registry uses version numbers to: - Track which version users have installed - Determine if updates are available - Cache-bust browser-side code - Ensure users get the latest functionality</p> <p>Without version bumps, users may continue using cached old code even after updates are deployed.</p>"},{"location":"extensions/writing-extensions/","title":"Writing Extensions","text":"<p>Extensions add new functionality to ScriptO Studio through the JS Configurator pattern - a JavaScript class that provides UI tabs and device-side Python libraries.</p>"},{"location":"extensions/writing-extensions/#extension-structure","title":"Extension Structure","text":"<p>Extensions use a modular source structure that gets bundled for distribution:</p> <pre><code>MyExtension/\n\u251c\u2500\u2500 extension.json          # Metadata and configuration\n\u251c\u2500\u2500 src/\n\u2502   \u2514\u2500\u2500 index.js           # Entry point (exports class)\n\u2514\u2500\u2500 device/                 # Device-side files (optional)\n    \u2514\u2500\u2500 lib/\n        \u2514\u2500\u2500 my_helpers.py\n</code></pre>"},{"location":"extensions/writing-extensions/#extensionjson","title":"extension.json","text":"<p>The manifest file defines your extension:</p> <pre><code>{\n  \"name\": \"My Extension\",\n  \"id\": \"my-extension\",\n  \"version\": [1, 0, 0],\n  \"author\": \"Your Name\",\n  \"description\": \"What your extension does\",\n  \"icon\": \"settings\",\n  \"menu\": [\n    { \"id\": \"config\", \"label\": \"Configuration\" },\n    { \"id\": \"status\", \"label\": \"Status\" }\n  ],\n  \"styles\": \".my-class { color: blue; }\",\n  \"devicePaths\": {\n    \"lib/my_helpers.py\": \"/lib/ext/my-extension/my_helpers.py\"\n  }\n}\n</code></pre>"},{"location":"extensions/writing-extensions/#fields","title":"Fields","text":"Field Required Description <code>name</code> \u2713 Display name <code>id</code> \u2713 Unique identifier (lowercase, hyphens) <code>version</code> \u2713 Semver array <code>[major, minor, patch]</code> <code>author</code> \u2713 Your name or organization <code>description</code> \u2713 Brief description <code>icon</code> Tabler icon name (e.g., <code>bolt</code>, <code>battery-charging</code>) <code>iconSvg</code> Custom SVG icon (overrides <code>icon</code>) <code>menu</code> Array of menu items with <code>id</code> and <code>label</code> <code>styles</code> CSS styles injected when extension loads <code>devicePaths</code> Map of source \u2192 device paths for bundler"},{"location":"extensions/writing-extensions/#extension-class","title":"Extension Class","text":"<p>Create <code>src/index.js</code> with a class that extends the base pattern:</p> <pre><code>class MyExtension {\n  constructor(deviceAPI, emit, state, html) {\n    this.device = deviceAPI  // Device communication\n    this.emit = emit         // Trigger re-render\n    this.state = state       // Shared state object\n    this.html = html         // Tagged template literal for rendering\n\n    // Initialize your extension's state\n    if (!this.state.myExtension) {\n      this.state.myExtension = {\n        config: {},\n        status: 'idle'\n      }\n    }\n  }\n\n  // Render each menu tab\n  renderConfig() {\n    return this.html`\n      &lt;div class=\"system-panel\"&gt;\n        &lt;div class=\"panel-header\"&gt;\n          &lt;h2&gt;Configuration&lt;/h2&gt;\n        &lt;/div&gt;\n        &lt;div style=\"padding: 20px;\"&gt;\n          &lt;p&gt;Your configuration UI here&lt;/p&gt;\n        &lt;/div&gt;\n      &lt;/div&gt;\n    `\n  }\n\n  renderStatus() {\n    return this.html`\n      &lt;div class=\"system-panel\"&gt;\n        &lt;div class=\"panel-header\"&gt;\n          &lt;h2&gt;Status&lt;/h2&gt;\n        &lt;/div&gt;\n        &lt;div style=\"padding: 20px;\"&gt;\n          &lt;p&gt;Status: ${this.state.myExtension.status}&lt;/p&gt;\n        &lt;/div&gt;\n      &lt;/div&gt;\n    `\n  }\n}\n\nexport { MyExtension as default }\n</code></pre>"},{"location":"extensions/writing-extensions/#render-methods","title":"Render Methods","text":"<p>For each menu item with <code>id: \"foo\"</code>, implement <code>renderFoo()</code> (capitalized). The method should return a template literal using <code>this.html</code>.</p>"},{"location":"extensions/writing-extensions/#state-management","title":"State Management","text":"<ul> <li>Use <code>this.state</code> for persistent data shared across renders</li> <li>Call <code>this.emit('render')</code> to trigger a re-render after state changes</li> <li>State persists across panel switches</li> </ul>"},{"location":"extensions/writing-extensions/#device-files","title":"Device Files","text":"<p>Device-side Python files live in <code>device/</code> and get deployed during installation.</p>"},{"location":"extensions/writing-extensions/#devicepaths-mapping","title":"devicePaths Mapping","text":"<p>In <code>extension.json</code>, map source files to device destinations:</p> <pre><code>{\n  \"devicePaths\": {\n    \"lib/helpers.py\": \"/lib/ext/my-extension/helpers.py\",\n    \"lib/utils.py\": \"/lib/ext/my-extension/utils.py\"\n  }\n}\n</code></pre> <p>Convention: Device files go to <code>/lib/ext/&lt;extension-id&gt;/</code></p>"},{"location":"extensions/writing-extensions/#oninstall-hook","title":"onInstall Hook","text":"<p>Implement <code>onInstall()</code> to deploy device files:</p> <pre><code>async onInstall() {\n  if (!this.state.isConnected) return false\n\n  try {\n    // Create directories\n    await this.device.mkdir('/lib/ext/my-extension')\n\n    // Write all device files (injected by loader)\n    for (const [path, content] of Object.entries(this.deviceFiles)) {\n      await this.device.saveFile(path, content)\n    }\n\n    return true\n  } catch (e) {\n    console.error('Installation failed:', e)\n    return false\n  }\n}\n</code></pre> <p>The <code>this.deviceFiles</code> object is injected by the loader and contains base64-decoded file contents keyed by target path.</p>"},{"location":"extensions/writing-extensions/#device-api","title":"Device API","text":"<p>Use <code>this.device</code> to communicate with the connected device:</p> Method Description <code>device.execute(code)</code> Run Python code, returns output <code>device.saveFile(path, content)</code> Write file to device <code>device.readFile(path)</code> Read file from device <code>device.mkdir(path)</code> Create directory <code>device.listDir(path)</code> List directory contents <pre><code>// Example: Get config from device\nasync getConfig() {\n  const result = await this.device.execute(`\n    from lib.ext.my_extension.helpers import get_config\n    import json\n    print(json.dumps(get_config()))\n  `)\n  return JSON.parse(result)\n}\n</code></pre>"},{"location":"extensions/writing-extensions/#bundling","title":"Bundling","text":"<p>Use the bundler tool to create a distributable bundle:</p> <pre><code># In-place mode (default) - writes bundle to extension directory\nnode tools/bundle_extensions.js --extensions-dir /path/to/your/extensions\n\n# Or central output mode\nnode tools/bundle_extensions.js \\\n  --extensions-dir /path/to/extensions \\\n  --output-dir /path/to/bundles\n</code></pre> <p>The bundler: 1. Reads <code>extension.json</code> for metadata 2. Bundles JS from <code>src/index.js</code> using esbuild 3. Base64-encodes device files from <code>device/</code> 4. Produces a single <code>{id}.bundle.js</code> file</p>"},{"location":"extensions/writing-extensions/#registry-structure","title":"Registry Structure","text":"<p>For distribution, place bundles in the extension directory:</p> <pre><code>registry/Extensions/DBE/\n\u251c\u2500\u2500 dbe.bundle.js    # Bundled extension\n\u251c\u2500\u2500 package.json     # Minimal metadata\n\u2514\u2500\u2500 README.md        # Documentation\n</code></pre>"},{"location":"extensions/writing-extensions/#best-practices","title":"Best Practices","text":"<ol> <li>State initialization - Always check if state exists before accessing</li> <li>Error handling - Wrap device calls in try/catch</li> <li>Responsive UI - Use async/await, show loading states</li> <li>Minimal device code - Keep Python files focused and small</li> <li>Avoid import verification - Device files may have dependencies; just write files in onInstall</li> </ol>"},{"location":"extensions/writing-extensions/#examples","title":"Examples","text":"<p>See these extensions for reference patterns:</p> <ul> <li>DBE - Battery emulator with multiple panels</li> <li>OpenInverter - Device discovery with dynamic menus</li> </ul>"},{"location":"extensions/writing-extensions/#next-steps","title":"Next Steps","text":"<ul> <li>Extension API - Full API reference</li> <li>Device Libraries - Python library patterns</li> <li>Built-in Extensions - More examples</li> </ul>"},{"location":"getting-started/","title":"Getting Started","text":"<p>Get started with ScriptO Studio and pyDirect.</p> <p></p>"},{"location":"getting-started/#pydirect-setup-tool","title":"pyDirect Setup Tool","text":"<p>The pyDirect Setup tool at pydirect.com provides a unified workflow for all device scenarios. Connect your ESP32 via USB and choose from four options:</p> Scenario Description New Device Flash fresh firmware onto a blank ESP32 Forgot Credentials View saved hostname and password Change WiFi Update network settings on existing device Re-provision Generate new certificates for HTTPS"},{"location":"getting-started/#new-device-setup","title":"New Device Setup","text":"<p>If you have a brand new ESP32 chip without firmware:</p> <ol> <li>Go to pydirect.com</li> <li>Connect your ESP32 via USB</li> <li>Click Connect Device</li> <li>Select New Device when the chip is detected</li> <li>Flash the firmware (automatically selected for your chip)</li> <li>Configure WiFi when the network modal appears</li> <li>Select your network from the list (shows signal strength in dBm)</li> <li>Enter the WiFi password</li> <li>Device connects and saves settings</li> <li>You're returned to the scenarios screen</li> <li>Select Re-provision Device to generate certificates</li> <li>Certificate is generated and installed</li> <li>Device resets and connects to WiFi</li> <li>Accept the security warning modal and click to open device</li> <li>Accept the browser security warning (click Advanced \u2192 Proceed)</li> <li>Set an access password on the device's web interface</li> <li>You'll be redirected to ScriptO Studio</li> <li>When ScriptO Studio prompts for connection, use the same password you set in step 10</li> </ol> <p>[!IMPORTANT] The password you set during provisioning is used both for the device's local web interface AND for ScriptO Studio connections. Remember this password!</p>"},{"location":"getting-started/#existing-pydirect-device","title":"Existing pyDirect Device","text":"<p>If you already have a device running pyDirect firmware:</p> <ol> <li>Go to scriptostudio.com</li> <li>Click Connect</li> <li>Enter your device's IP address or hostname (e.g. <code>pydirect-xxxx.local</code>)</li> <li>Enter the access password (set during initial provisioning)</li> <li>Click Connect</li> </ol>"},{"location":"getting-started/#forgot-credentials","title":"Forgot Credentials","text":"<p>If you can't remember your device's hostname or password:</p> <ol> <li>Go to pydirect.com</li> <li>Connect via USB and click Connect Device</li> <li>Select Forgot Credentials</li> <li>Your device's hostname, password, and WiFi SSID are displayed</li> </ol>"},{"location":"getting-started/#change-wifi","title":"Change WiFi","text":"<p>To update network settings on an existing device:</p> <ol> <li>Go to pydirect.com</li> <li>Connect via USB and click Connect Device</li> <li>Select Change WiFi</li> <li>A modal shows available networks with signal strength (dBm)</li> <li>Select your network and enter the WiFi password</li> <li>Device connects and you're returned to scenarios</li> </ol> <p>[!NOTE] Change WiFi only updates network settings. If you need new HTTPS certificates,  select Re-provision Device afterward.</p>"},{"location":"getting-started/#re-provision","title":"Re-provision","text":"<p>To generate new HTTPS certificates:</p> <ol> <li>Go to pydirect.com</li> <li>Connect via USB and click Connect Device</li> <li>Select Re-provision Device</li> <li>New certificate is generated and installed</li> <li>Device resets and connects to WiFi</li> <li>A modal explains the security warning you'll see</li> <li>Click Connect to [hostname] to open device in new tab</li> <li>Accept the browser security warning</li> <li>Set a new password on the device's web interface</li> </ol>"},{"location":"getting-started/#connection-requirements","title":"Connection Requirements","text":"<ul> <li>Browser: Chrome, Edge, or Opera (WebSerial/WebRTC support required)</li> <li>Device: ESP32-S3 or ESP32-P4 with pyDirect firmware</li> <li>Network: Device and browser on same network for ScriptO Studio</li> </ul>"},{"location":"getting-started/#accepting-the-security-certificate","title":"Accepting the Security Certificate","text":"<p>pyDirect devices use HTTPS with a self-signed certificate generated during setup. When you first connect:</p> <ol> <li>Browser shows \"Your connection is not private\" warning</li> <li>Click Advanced (or \"Show Details\" on Safari)</li> <li>Click Proceed to [device-hostname] (or \"visit this website\")</li> <li>The certificate is now trusted for this device</li> </ol> <p>This only needs to be done once per device per browser.</p>"},{"location":"getting-started/#next-steps","title":"Next Steps","text":"<ul> <li>First ScriptO - Run your first script</li> <li>IDE Overview - Learn the interface</li> <li>Troubleshooting Connection - If you have issues</li> </ul>"},{"location":"getting-started/#troubleshooting","title":"Troubleshooting","text":"<p>Can't connect from pydirect.com?</p> <ul> <li>Check USB cable supports data (not charge-only)</li> <li>Install USB drivers if needed (CP210x or CH340)</li> <li>Put device in boot mode (hold BOOT, press RESET, release BOOT)</li> </ul> <p>Can't connect from scriptostudio.com?</p> <ul> <li>Verify device is powered and on the network</li> <li>Check the IP address is correct</li> <li>Make sure you're using the password set during provisioning</li> <li>Accept the self-signed certificate warning first</li> </ul> <p>See Troubleshooting Connection for more help.</p>"},{"location":"getting-started/connection/","title":"Connection","text":"<p>Connect to your pyDirect device from ScriptO Studio.</p>"},{"location":"getting-started/connection/#connect-dialog","title":"Connect Dialog","text":"<p>When you open ScriptO Studio or click Connect, the connection dialog appears.</p>"},{"location":"getting-started/connection/#connection-details","title":"Connection Details","text":"Field Description Example Device URL Full URL to your device's WebREPL endpoint <code>https://pydirect-2b88.local/webrepl</code> Password Access password set during provisioning <code>******</code>"},{"location":"getting-started/connection/#device-url-format","title":"Device URL Format","text":"<pre><code>https://{hostname}.local/webrepl\n</code></pre> <p>Where <code>{hostname}</code> is your device's mDNS hostname, typically: - <code>pydirect-XXXX</code> (XXXX = last 4 chars of MAC address) - Custom hostname if you changed it</p>"},{"location":"getting-started/connection/#alternative-urls","title":"Alternative URLs","text":"<p>You can also use: - IP address: <code>https://192.168.1.100/webrepl</code> - Custom hostname: <code>https://mydevice.local/webrepl</code></p>"},{"location":"getting-started/connection/#connecting","title":"Connecting","text":"<ol> <li>Enter your Device URL</li> <li>Enter your Password</li> <li>Click CONNECT or press Enter</li> </ol> <p>The connection sequence: 1. Establishes HTTPS connection 2. Upgrades to WebSocket 3. Authenticates with password (challenge-response) 4. Negotiates WebRTC if available 5. Shows connected status in sidebar and status bar</p>"},{"location":"getting-started/connection/#connection-status","title":"Connection Status","text":"<p>When connected: - Green indicator in status bar - Device info appears (RAM, TEMP, UPTIME, RSSI) - File Manager shows device files - Terminal becomes interactive</p>"},{"location":"getting-started/connection/#first-time-connection","title":"First-Time Connection","text":"<p>On first connection to a new device:</p> <ol> <li>Certificate warning - Browser shows security warning</li> <li>Click Advanced \u2192 Proceed to [hostname]</li> <li> <p>The device uses a self-signed certificate</p> </li> <li> <p>Password prompt - Enter the password you set during provisioning</p> </li> </ol>"},{"location":"getting-started/connection/#connection-methods","title":"Connection Methods","text":"<p>ScriptO Studio uses two transport methods:</p> Method When Used Characteristics WebRTC Same local network Fast, low latency, P2P WebSocket Fallback More reliable, higher latency <p>The connection automatically negotiates the best method.</p>"},{"location":"getting-started/connection/#quick-tips","title":"Quick Tips","text":""},{"location":"getting-started/connection/#remember-your-password","title":"Remember Your Password","text":"<p>The password is stored on the device during initial provisioning. If you forget it: - Connect via USB serial - Check or reset in <code>/settings/wifi.json</code></p>"},{"location":"getting-started/connection/#use-local-hostnames","title":"Use .local Hostnames","text":"<p>Using <code>hostname.local</code> (mDNS) means you don't need to track IP addresses. The hostname is shown during provisioning.</p>"},{"location":"getting-started/connection/#bookmark-your-device","title":"Bookmark Your Device","text":"<p>Save the Device URL in your browser bookmarks for quick access.</p>"},{"location":"getting-started/connection/#troubleshooting","title":"Troubleshooting","text":"<p>\"Connection refused\" - Device not powered or on different network - Try pinging the IP address</p> <p>\"Certificate error\" - Accept the self-signed certificate - Clear browser HSTS settings if stuck</p> <p>\"Authentication failed\" - Wrong password - Password is case-sensitive</p> <p>\"WebRTC failed\" - Falls back to WebSocket automatically - Check if devices are on same subnet</p> <p>See Troubleshooting Connection for more help.</p>"},{"location":"getting-started/connection/#related","title":"Related","text":"<ul> <li>Getting Started - Initial setup</li> <li>Network Setup - WiFi configuration</li> <li>Troubleshooting Connection - Connection issues</li> </ul>"},{"location":"getting-started/first-scripto/","title":"First ScriptO","text":"<p>Run your first script on the device.</p>"},{"location":"getting-started/first-scripto/#hello-scripto","title":"Hello ScriptO!","text":"<p>ScriptO Studio opens with a default script already in the editor. To run your first code:</p> <ol> <li>Connect to your device (see Getting Started)</li> <li>You should see the default script tab in the editor</li> <li>Click Run in the toolbar (or press Ctrl+R / Cmd+R)</li> <li>See \"Hello ScriptO!\" appear in the Terminal below</li> </ol> <p>That's it! You've run your first ScriptO.</p>"},{"location":"getting-started/first-scripto/#understanding-the-default-script","title":"Understanding the Default Script","text":"<p>The default script demonstrates basic Python output:</p> <pre><code>print(\"Hello ScriptO!\")\n</code></pre> <p>When you click Run, ScriptO Studio: 1. Sends the code to your connected device 2. The device executes it in the MicroPython interpreter 3. Output is streamed back and displayed in the Terminal</p>"},{"location":"getting-started/first-scripto/#try-something-more","title":"Try Something More","text":"<p>Now try editing the script:</p> <pre><code>print(\"Hello ScriptO!\")\nprint(\"Device is running MicroPython\")\n\nimport sys\nprint(f\"Platform: {sys.platform}\")\n</code></pre> <p>Click Run again to see the updated output.</p>"},{"location":"getting-started/first-scripto/#save-to-device","title":"Save to Device","text":"<p>To run code automatically on boot:</p> <ol> <li>Click File \u2192 New or press Ctrl+N / Cmd+N</li> <li>Name the file <code>main.py</code></li> <li>Add your code</li> <li>Save (Ctrl+S / Cmd+S)</li> <li>Reboot device - code runs automatically</li> </ol>"},{"location":"getting-started/first-scripto/#using-the-repl","title":"Using the REPL","text":"<p>For interactive development, use the Terminal directly:</p> <ol> <li>Click in the Terminal panel</li> <li>Type Python commands directly</li> <li>Press Enter to execute</li> </ol> <pre><code>&gt;&gt;&gt; import sys\n&gt;&gt;&gt; sys.platform\n'esp32'\n&gt;&gt;&gt; 1 + 1\n2\n</code></pre>"},{"location":"getting-started/first-scripto/#next-steps","title":"Next Steps","text":"<ul> <li>IDE Overview - Learn the interface</li> <li>Writing ScriptOs - Write more complex scripts</li> <li>File Manager - Managing device files</li> </ul>"},{"location":"getting-started/ide-overview/","title":"IDE Overview","text":"<p>A tour of the ScriptO Studio interface.</p> <p></p>"},{"location":"getting-started/ide-overview/#layout","title":"Layout","text":"<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502  \ud83d\udd27 Toolbar                                                     \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502               \u2502                                                 \u2502\n\u2502   \ud83d\udcc1 Sidebar  \u2502               \ud83d\udcdd Editor                         \u2502\n\u2502               \u2502                                                 \u2502\n\u2502   Files       \u2502         Code editing area                       \u2502\n\u2502   Extensions  \u2502                                                 \u2502\n\u2502               \u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502               \u2502               \ud83d\udcbb Terminal                       \u2502\n\u2502               \u2502         REPL and output                         \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502  \ud83d\udcca Status Bar                                                  \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"getting-started/ide-overview/#components","title":"Components","text":""},{"location":"getting-started/ide-overview/#toolbar","title":"Toolbar","text":"Button Action Connect Connect/disconnect from device Run Execute current file on device Stop Interrupt running code (Ctrl+C) Save Save current file to device New Create new file"},{"location":"getting-started/ide-overview/#sidebar","title":"Sidebar","text":"<ul> <li>Files - Device filesystem browser</li> <li>Extensions - Installed extensions and marketplace</li> <li>Settings - Configuration options</li> <li>Log - System log messages</li> </ul>"},{"location":"getting-started/ide-overview/#editor","title":"Editor","text":"<p>Features: - Syntax highlighting (Python) - Line numbers - Multiple tabs - Error markers - CodeMirror 6 based</p>"},{"location":"getting-started/ide-overview/#terminal","title":"Terminal","text":"<ul> <li>Interactive Python REPL</li> <li>Script output display</li> <li>Syslog messages</li> <li>Command history (up/down arrows)</li> </ul>"},{"location":"getting-started/ide-overview/#status-bar","title":"Status Bar","text":"<p>Shows: - Connection status (\ud83d\udfe2 Connected / \ud83d\udd34 Disconnected) - Device info (RAM, temperature) - Current file path - Disconnect button when connected</p>"},{"location":"getting-started/ide-overview/#keyboard-shortcuts","title":"Keyboard Shortcuts","text":"Shortcut Action Ctrl+S / Cmd+S Save file Ctrl+R / Cmd+R Run code Ctrl+N / Cmd+N New file dialog Ctrl+L / Cmd+L Clear terminal Ctrl+Shift+C / Cmd+Shift+C Connect to device <p>[!NOTE] On macOS, use Cmd instead of Ctrl.</p>"},{"location":"getting-started/ide-overview/#log-sidebar","title":"Log Sidebar","text":"<p>The Log sidebar shows system messages from the device, including: - Python print() output - Syslog messages - Error and warning logs</p> <p>Click the Log icon in the sidebar to toggle visibility.</p>"},{"location":"getting-started/ide-overview/#related","title":"Related","text":"<ul> <li>Editor Features</li> <li>Terminal &amp; REPL</li> <li>File Manager</li> </ul>"},{"location":"protocol/message-types/","title":"Message Types","text":"<p>Coming Soon</p> <p>This page is under construction.</p> <p>Please check back later or contribute to the docs.</p>"},{"location":"protocol/webrepl-binary-protocol/","title":"WebREPL Binary Protocol (WBP)","text":"<p>The WebREPL Binary Protocol is a custom binary protocol for efficient communication between ScriptO Studio and pyDirect devices.</p>"},{"location":"protocol/webrepl-binary-protocol/#overview","title":"Overview","text":"<p>WBP provides: - Binary framing for efficient data transfer - Multiple transports (WebRTC primary, WebSocket fallback) - Message prioritization for responsive UI - Bidirectional streaming for logs and output</p>"},{"location":"protocol/webrepl-binary-protocol/#message-structure","title":"Message Structure","text":"<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 Magic (2B)  \u2502 Length (2B)  \u2502 Type (1B)   \u2502 Payload     \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre> Field Size Description Magic 2 bytes <code>0x57 0x42</code> (\"WB\") Length 2 bytes Payload length (big-endian) Type 1 byte Message type Payload Variable JSON or binary data"},{"location":"protocol/webrepl-binary-protocol/#message-types","title":"Message Types","text":""},{"location":"protocol/webrepl-binary-protocol/#commands-client-device","title":"Commands (Client \u2192 Device)","text":"Type Name Description <code>0x01</code> EXEC Execute Python code <code>0x02</code> READ_FILE Read file from device <code>0x03</code> WRITE_FILE Write file to device <code>0x04</code> LIST_DIR List directory contents <code>0x05</code> DELETE Delete file or directory <code>0x06</code> MKDIR Create directory <code>0x10</code> GET_STATUS Get device status <code>0x11</code> INTERRUPT Send keyboard interrupt"},{"location":"protocol/webrepl-binary-protocol/#responses-device-client","title":"Responses (Device \u2192 Client)","text":"Type Name Description <code>0x81</code> RESULT Command result <code>0x82</code> ERROR Error response <code>0x83</code> OUTPUT stdout/stderr stream <code>0x84</code> LOG Syslog message <code>0x90</code> STATUS Device status update"},{"location":"protocol/webrepl-binary-protocol/#authentication","title":"Authentication","text":"<p>Authentication uses a challenge-response mechanism:</p> <pre><code>Client                          Device\n  \u2502                               \u2502\n  \u251c\u2500\u2500\u2500\u2500 AUTH_REQUEST \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25ba\u2502\n  \u2502                               \u2502\n  \u2502\u25c4\u2500\u2500\u2500\u2500 AUTH_CHALLENGE \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n  \u2502      (nonce)                  \u2502\n  \u2502                               \u2502\n  \u251c\u2500\u2500\u2500\u2500 AUTH_RESPONSE \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25ba\u2502\n  \u2502      (hash(password + nonce)) \u2502\n  \u2502                               \u2502\n  \u2502\u25c4\u2500\u2500\u2500\u2500 AUTH_RESULT \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n  \u2502      (success/fail)           \u2502\n</code></pre>"},{"location":"protocol/webrepl-binary-protocol/#transport-handover","title":"Transport Handover","text":"<p>WBP supports seamless transport switching:</p> <ol> <li>WebRTC preferred - Lower latency, P2P</li> <li>WebSocket fallback - NAT traversal, reliability</li> </ol> <p>The protocol maintains session identity across transport changes.</p>"},{"location":"protocol/webrepl-binary-protocol/#message-prioritization","title":"Message Prioritization","text":"<p>Three-tier processing model:</p> Priority Messages Handling High Interrupts, Auth Immediate processing Normal File ops, Exec FIFO queue Low Logs, Status Coalesced (5ms delay)"},{"location":"protocol/webrepl-binary-protocol/#example-execute-code","title":"Example: Execute Code","text":"<p>Request: <pre><code>{\n  \"id\": 42,\n  \"code\": \"print('Hello')\"\n}\n</code></pre></p> <p>Response: <pre><code>{\n  \"id\": 42,\n  \"result\": null,\n  \"output\": \"Hello\\n\"\n}\n</code></pre></p>"},{"location":"protocol/webrepl-binary-protocol/#implementation","title":"Implementation","text":"<ul> <li>Device: <code>webrepl_binary.py</code> in pyDirect firmware</li> <li>Client: <code>webrepl.js</code> in ScriptO Studio</li> </ul>"},{"location":"protocol/webrepl-binary-protocol/#related","title":"Related","text":"<ul> <li>WebRTC Transport</li> <li>WebSocket Transport</li> <li>Message Types</li> </ul>"},{"location":"protocol/webrtc-transport/","title":"WebRTC Transport","text":"<p>Coming Soon</p> <p>This page is under construction.</p> <p>Please check back later or contribute to the docs.</p>"},{"location":"protocol/websocket-transport/","title":"WebSocket Transport","text":"<p>Coming Soon</p> <p>This page is under construction.</p> <p>Please check back later or contribute to the docs.</p>"},{"location":"reference/changelog/","title":"Changelog","text":"<p>Coming Soon</p> <p>This page is under construction.</p> <p>Please check back later or contribute to the docs.</p>"},{"location":"reference/faq/","title":"FAQ","text":"<p>Frequently asked questions about ScriptO Studio and pyDirect.</p>"},{"location":"reference/faq/#general","title":"General","text":""},{"location":"reference/faq/#what-is-scripto-studio","title":"What is ScriptO Studio?","text":"<p>ScriptO Studio is a browser-based IDE for developing MicroPython applications on ESP32 devices. It provides code editing, file management, terminal access, and an extension system for specialized functionality.</p>"},{"location":"reference/faq/#what-is-pydirect","title":"What is pyDirect?","text":"<p>pyDirect is custom MicroPython firmware for ESP32-S3 that includes: - WebREPL Binary Protocol for fast communication - WebRTC support for low-latency connections - Hardware abstraction for CAN, I2C, SPI, and more - Pre-configured drivers for common peripherals</p>"},{"location":"reference/faq/#do-i-need-to-install-anything","title":"Do I need to install anything?","text":"<p>No installation required! ScriptO Studio runs entirely in your browser. Just navigate to scriptostudio.pydirect.com and connect to your device.</p>"},{"location":"reference/faq/#which-browsers-are-supported","title":"Which browsers are supported?","text":"Browser Status Chrome 90+ \u2705 Full support Edge 90+ \u2705 Full support Firefox 85+ \u2705 Full support Safari 15+ \u26a0\ufe0f WebRTC may be limited"},{"location":"reference/faq/#is-it-open-source","title":"Is it open source?","text":"<p>Yes! Both projects are MIT licensed: - ScriptO Studio - pyDirect</p>"},{"location":"reference/faq/#connection","title":"Connection","text":""},{"location":"reference/faq/#why-cant-i-connect-to-my-device","title":"Why can't I connect to my device?","text":"<p>See Troubleshooting Connection for detailed help. Quick checks: 1. Device and browser on same network 2. Correct IP address 3. WebREPL password correct 4. No other client connected</p>"},{"location":"reference/faq/#whats-the-difference-between-webrtc-and-websocket","title":"What's the difference between WebRTC and WebSocket?","text":"Feature WebRTC WebSocket Latency Lower Higher Setup Requires STUN Simple Reliability P2P dependent More reliable NAT traversal Sometimes fails Always works <p>ScriptO Studio tries WebRTC first, then falls back to WebSocket.</p>"},{"location":"reference/faq/#can-i-connect-over-the-internet","title":"Can I connect over the internet?","text":"<p>WebSocket works over the internet if your device has a public IP or you set up port forwarding. WebRTC requires TURN servers for NAT traversal (not included by default).</p>"},{"location":"reference/faq/#why-is-only-one-client-allowed","title":"Why is only one client allowed?","text":"<p>The WebREPL Binary Protocol uses a single-client model to: - Avoid race conditions on file operations - Ensure consistent stdout/stderr streaming - Simplify authentication and session management</p>"},{"location":"reference/faq/#development","title":"Development","text":""},{"location":"reference/faq/#how-do-i-run-code-on-the-device","title":"How do I run code on the device?","text":"<ol> <li>Write code in the editor</li> <li>Click Run (or press F5)</li> <li>Output appears in the Terminal</li> </ol> <p>The code is sent to the device and executed immediately.</p>"},{"location":"reference/faq/#how-do-i-save-files-to-the-device","title":"How do I save files to the device?","text":"<ol> <li>Open File Manager (sidebar)</li> <li>Create or select a file</li> <li>Edit in the editor</li> <li>Press Ctrl+S to save</li> </ol> <p>Files are saved directly to the device's flash filesystem.</p>"},{"location":"reference/faq/#can-i-use-pip-packages","title":"Can I use pip packages?","text":"<p>MicroPython uses <code>mip</code> for package management:</p> <pre><code>import mip\nmip.install(\"github:org/repo/package\")\n</code></pre> <p>Many micropython-lib packages are available, but not all PyPI packages work on MicroPython.</p>"},{"location":"reference/faq/#extensions","title":"Extensions","text":""},{"location":"reference/faq/#how-do-i-install-an-extension","title":"How do I install an extension?","text":"<ol> <li>Click Extensions in the sidebar (or the + icon)</li> <li>Search for the extension</li> <li>Click Install</li> </ol> <p>Device-side libraries are installed automatically.</p>"},{"location":"reference/faq/#can-i-create-my-own-extensions","title":"Can I create my own extensions?","text":"<p>Yes! See Writing Extensions for a complete guide.</p>"},{"location":"reference/faq/#where-are-extensions-stored","title":"Where are extensions stored?","text":"<ul> <li>UI code: Loaded from the registry at runtime</li> <li>Device libraries: Installed to <code>/lib/</code> on the device</li> </ul>"},{"location":"reference/faq/#hardware","title":"Hardware","text":""},{"location":"reference/faq/#which-esp32-chip-should-i-use","title":"Which ESP32 chip should I use?","text":"<p>Recommended: ESP32-S3 with 8MB PSRAM</p> <p>Other variants may work but have limitations: - ESP32-S2: No Bluetooth - ESP32-C3: Limited RAM - Original ESP32: Not officially supported</p>"},{"location":"reference/faq/#how-much-ramflash-do-i-need","title":"How much RAM/Flash do I need?","text":"Resource Minimum Recommended Flash 4MB 16MB PSRAM None 8MB <p>More flash = more files and extensions. PSRAM = larger scripts and data.</p>"},{"location":"reference/faq/#can-i-use-this-with-arduino","title":"Can I use this with Arduino?","text":"<p>No. pyDirect is MicroPython firmware, not compatible with Arduino. However, the concepts are similar and many Arduino libraries have MicroPython equivalents.</p>"},{"location":"reference/faq/#more-questions","title":"More Questions?","text":"<ul> <li>Check the Wiki Home for documentation</li> <li>Search existing issues</li> <li>Open a new issue for bugs or questions</li> </ul>"},{"location":"reference/roadmap/","title":"Roadmap","text":"<p>Coming Soon</p> <p>This page is under construction.</p> <p>Please check back later or contribute to the docs.</p>"},{"location":"scriptos/","title":"ScriptOs","text":"<p>This section documents the built-in ScriptOs available in the ScriptO Studio registry.</p> <p></p>"},{"location":"scriptos/#scriptos-vs-extensions","title":"ScriptOs vs Extensions","text":"<p>Both ScriptOs and Extensions expand ScriptO Studio functionality:</p> Aspect ScriptOs Extensions Language Python only JavaScript (+ Python libs) UI Location Run from ScriptOs panel Sidebar tabs Persistence Run on-demand Always loaded Use Case Quick utilities, demos, automation Complex tools with dedicated UI <p>Choose ScriptOs for quick scripts, hardware testing, and simple UI plugins. Choose Extensions for persistent sidebar tools with complex UI.</p>"},{"location":"scriptos/#categories","title":"Categories","text":""},{"location":"scriptos/#ui-plugins","title":"UI Plugins","text":"<p>ScriptOs that provide their own web-based user interfaces, displayed in modal windows within ScriptO Studio.</p> <ul> <li>UI Plugin - Hello World - Minimal UI plugin demonstration</li> </ul>"},{"location":"scriptos/#diagnostics-testing","title":"Diagnostics &amp; Testing","text":"<ul> <li>Memory Check - Monitor device memory usage</li> <li>CAN Loopback Test - Test CAN bus hardware</li> <li>Wi-Fi Scan - Scan for available networks</li> <li>I2C Slaves Scan - Discover I2C devices</li> <li>1-Wire Slaves Scan - Discover 1-Wire devices</li> </ul>"},{"location":"scriptos/#hardware-interfaces","title":"Hardware Interfaces","text":"<ul> <li>GPIO Input / GPIO Output - Digital I/O control</li> <li>ADC Reader - Analog input reading</li> <li>DAC Output - Analog output control</li> <li>PWM &amp; Lighting / PWM &amp; Servo Motor - PWM control</li> </ul>"},{"location":"scriptos/#communication","title":"Communication","text":"<ul> <li>UART Test - Serial communication testing</li> <li>BLE Scan / BLE iBeacon - Bluetooth operations</li> <li>USB Modem Status - Cellular modem monitoring</li> </ul>"},{"location":"scriptos/#automotive-udscan","title":"Automotive (UDS/CAN)","text":"<ul> <li>UDS Client Demo - Unified Diagnostic Services client</li> <li>UDS Server Demo - Implement a UDS server</li> <li>CANopen Bus Scanner - Discover CANopen nodes</li> </ul>"},{"location":"scriptos/#led-control","title":"LED Control","text":"<ul> <li>LEDs - NeoPixel Strip - WS2812/SK6812 control</li> <li>LEDs - DotStar Strip - APA102 control</li> <li>Status LED Color Control - Device status LED</li> </ul>"},{"location":"scriptos/#storage","title":"Storage","text":"<ul> <li>SD Card Mount Test - SD card operations</li> <li>SD Card Complete - Full SD card example</li> </ul>"},{"location":"scriptos/#network","title":"Network","text":"<ul> <li>NTP Time Sync - Synchronize device time</li> <li>iperf3 Server - Network speed testing</li> </ul>"},{"location":"scriptos/#running-scriptos","title":"Running ScriptOs","text":"<ol> <li>Open ScriptO Studio and connect to your device</li> <li>Click the ScriptOs button in the sidebar</li> <li>Select a category and choose a ScriptO</li> <li>Configure any parameters (if available)</li> <li>Click Run to execute on the device</li> </ol> <p>[!TIP] Most ScriptOs have configurable parameters. Check the configuration panel before running.</p>"},{"location":"scriptos/#getting-started","title":"Getting Started","text":"<ul> <li>Writing ScriptOs - Create your own ScriptOs</li> <li>VM Sharing &amp; Async - How scripts share the MicroPython VM</li> <li>UI Plugin - Hello World - Example with custom UI</li> </ul>"},{"location":"scriptos/ui-plugin-hello-world/","title":"UI Plugin - Hello World","text":"<p>A minimal demonstration of the ScriptO UI Plugin Architecture. This ScriptO registers an HTTP route on your device and displays a custom web interface in a modal window within ScriptO Studio.</p> <p></p>"},{"location":"scriptos/ui-plugin-hello-world/#features","title":"Features","text":"<ul> <li>Device-served UI - HTML/CSS/JS served directly from your ESP32</li> <li>Iframe integration - Studio displays the UI in a modal</li> <li>Zero Studio changes - No code changes needed in ScriptO Studio</li> <li>Full web capabilities - Use any web technologies in your plugin UI</li> </ul>"},{"location":"scriptos/ui-plugin-hello-world/#how-it-works","title":"How It Works","text":"<ol> <li>The ScriptO registers an HTTP route (<code>/hello_ui</code>) on the device</li> <li>A <code>display_ui</code> command is sent to Studio via WebREPL</li> <li>Studio opens an iframe modal pointing to the device's HTTP server</li> <li>The UI is served directly from the ESP32</li> </ol>"},{"location":"scriptos/ui-plugin-hello-world/#running-the-scripto","title":"Running the ScriptO","text":"<ol> <li>Connect to your device in ScriptO Studio</li> <li>Open ScriptOs \u2192 UI Plugins \u2192 UI Plugin - Hello World</li> <li>(Optional) Customize the window title in the configuration</li> <li>Click Run</li> <li>The Hello World UI appears in a modal window</li> </ol>"},{"location":"scriptos/ui-plugin-hello-world/#configuration-parameters","title":"Configuration Parameters","text":"Parameter Type Default Description <code>ui_title</code> string \"Hello World from ScriptO\" Title shown in the modal window"},{"location":"scriptos/ui-plugin-hello-world/#optional-trust-device-certificate-macos","title":"Optional: Trust Device Certificate (macOS)","text":"<p>When running UI Plugins, Chrome may show a \"Not Secure\" warning in the URL bar because the device uses a self-signed HTTPS certificate. This is cosmetic and doesn't affect functionality, but you can eliminate it by trusting the device certificate:</p> <ol> <li>In ScriptO Studio, open Files and navigate to <code>/certs/</code></li> <li>Download <code>servercert.pem</code> to your Mac</li> <li>Double-click the <code>.pem</code> file \u2192 Opens Keychain Access</li> <li>The certificate is added to your \"login\" keychain</li> <li>Find the cert in Keychain Access, double-click it</li> <li>Expand the Trust section</li> <li>Set \"When using this certificate\" to \"Always Trust\"</li> <li>Close the dialog (enter your password when prompted)</li> <li>Restart Chrome</li> </ol> <p>[!NOTE] Each device has a unique self-signed certificate. You'll need to repeat this process for each device you want to permanently trust.</p>"},{"location":"scriptos/ui-plugin-hello-world/#creating-your-own-ui-plugin","title":"Creating Your Own UI Plugin","text":"<p>Use this ScriptO as a template for creating your own UI plugins:</p> <pre><code>import httpserver\nimport webrepl_binary as webrepl\nimport network\nimport json\nfrom lib.sys.utils import getDeviceURL\n\ndef my_ui_handler(uri, post_data=None, remote_addr=None):\n    \"\"\"HTTP handler that returns your custom HTML.\"\"\"\n    html = \"\"\"&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;head&gt;\n    &lt;title&gt;My Custom UI&lt;/title&gt;\n    &lt;style&gt;\n        /* Your CSS here */\n    &lt;/style&gt;\n&lt;/head&gt;\n&lt;body&gt;\n    &lt;h1&gt;My Custom UI&lt;/h1&gt;\n    &lt;!-- Your content here --&gt;\n    &lt;script&gt;\n        // Your JavaScript here\n    &lt;/script&gt;\n&lt;/body&gt;\n&lt;/html&gt;\"\"\"\n    httpserver.send(html)\n\n# Register the HTTP route\nhttpserver.on('/my_ui', my_ui_handler, 'GET')\n\n# Tell Studio to display the UI\nurl = getDeviceURL('/my_ui')\nwebrepl.notify(json.dumps({\n    \"display_ui\": {\n        \"url\": url,\n        \"title\": \"My Custom UI\"\n    }\n}))\n</code></pre>"},{"location":"scriptos/ui-plugin-hello-world/#key-functions","title":"Key Functions","text":"Function Module Purpose <code>httpserver.on(path, handler, method)</code> <code>httpserver</code> Register HTTP route <code>httpserver.send(content)</code> <code>httpserver</code> Send HTTP response <code>getDeviceURL(path)</code> <code>lib.sys.utils</code> Get device URL with correct protocol and hostname <code>webrepl.notify(payload)</code> <code>webrepl_binary</code> Send command to Studio"},{"location":"scriptos/ui-plugin-hello-world/#related","title":"Related","text":"<ul> <li>Writing Extensions - Create full JS extensions with sidebar tabs</li> <li>WebREPL Binary Protocol - Protocol details</li> </ul>"},{"location":"scriptos/vm-sharing/","title":"VM Sharing &amp; Async Architecture","text":"<p>Understanding how your scripts share the single MicroPython VM with the system.</p>"},{"location":"scriptos/vm-sharing/#single-vm-cooperative-multitasking","title":"Single VM, Cooperative Multitasking","text":"<p>pyDirect runs everything in one MicroPython VM using <code>asyncio</code> for cooperative multitasking. There are no threads\u2014only one thing executes at a time.</p> <pre><code>main.py (Orchestrator)\n    \u2514\u2500\u2500 asyncio.run()\n            \u251c\u2500\u2500 queue_pump()      \u2190 processes M2M commands every 10ms\n            \u251c\u2500\u2500 wifi_task()       \u2190 manages WiFi connection\n            \u251c\u2500\u2500 eth_task()        \u2190 manages Ethernet (if available)\n            \u2514\u2500\u2500 your_script()     \u2190 your ScriptO runs here\n</code></pre>"},{"location":"scriptos/vm-sharing/#how-tasks-share-cpu-time","title":"How Tasks Share CPU Time","text":"Component Runs As Yields Via Orchestrator System task <code>await asyncio.sleep()</code> Queue Pump System task (10ms loop) <code>await asyncio.sleep_ms(10)</code> Your Scripts User task Must <code>await</code> periodically M2M Commands Synchronous exec Runs to completion <p>[!IMPORTANT] If your script runs a loop without <code>await</code>, everything freezes\u2014including M2M commands from Scripto Studio.</p>"},{"location":"scriptos/vm-sharing/#writing-async-scripts","title":"Writing Async Scripts","text":""},{"location":"scriptos/vm-sharing/#good-yields-regularly","title":"\u2705 Good: Yields Regularly","text":"<pre><code>import asyncio\nfrom lib.sys import bg_tasks\n\nasync def my_task():\n    while True:\n        do_work()\n        await asyncio.sleep(0.1)  # Yields to other tasks\n\nbg_tasks.start(\"my_task\", my_task)\n</code></pre>"},{"location":"scriptos/vm-sharing/#bad-blocks-the-vm","title":"\u274c Bad: Blocks the VM","text":"<pre><code># DON'T DO THIS - blocks everything!\nwhile True:\n    do_work()\n    time.sleep(0.1)  # time.sleep() does NOT yield!\n</code></pre>"},{"location":"scriptos/vm-sharing/#system-vs-user-tasks","title":"System vs User Tasks","text":"<p>Tasks registered via <code>bg_tasks</code> are classified as:</p> Type Protected? Stopped By System (<code>is_system=True</code>) Yes Only <code>bg_tasks.stop_all()</code> User (<code>is_system=False</code>) No Stop button, Ctrl+C, soft reset <pre><code># System task - keeps running even after Stop button\nbg_tasks.start(\"critical_monitor\", monitor_func, is_system=True)\n\n# User task - stopped by Stop button\nbg_tasks.start(\"my_animation\", animate_leds)\n</code></pre>"},{"location":"scriptos/vm-sharing/#m2m-commands","title":"M2M Commands","text":"<p>When Scripto Studio calls a device function (like <code>getSysInfo()</code>), it happens via the M2M pattern:</p> <pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510         \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 Scripto Studio \u2502         \u2502  pyDirect Device \u2502\n\u2502                \u2502  exec() \u2502                  \u2502\n\u2502 getSystemInfo()\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25ba\u2502 getSysInfo()     \u2502\n\u2502                \u2502         \u2502     \u2502            \u2502\n\u2502                \u2502\u25c4\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524 print(json)      \u2502\n\u2502 parse response \u2502  output \u2502                  \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518         \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre> <p>M2M commands run synchronously in the REPL context\u2014they block until complete. Keep them fast (&lt;100ms).</p>"},{"location":"scriptos/vm-sharing/#the-queue-pump","title":"The Queue Pump","text":"<p>The <code>queue_pump()</code> task is the system's heartbeat:</p> <pre><code>async def queue_pump():\n    while True:\n        webrepl.process_queue()   # Handle WebSocket/WebRTC messages\n        httpserver.process_queue() # Handle HTTP requests\n        await asyncio.sleep_ms(10) # Yield every 10ms\n</code></pre> <p>This ensures:</p> <ul> <li>M2M commands are processed promptly</li> <li>HTTP requests are served</li> <li>Your UI stays responsive</li> </ul>"},{"location":"scriptos/vm-sharing/#task-lifecycle","title":"Task Lifecycle","text":"<pre><code>Start Script\n     \u2502\n     \u25bc\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502   Running   \u2502\u25c4\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2518                   \u2502\n       \u2502                          \u2502\n  Exception?                  Restart\n       \u2502                      (after 1s)\n       \u25bc                          \u2502\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510                   \u2502\n\u2502   Crashed   \u2502\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n\n       \u2502 Stop button / Ctrl+C\n       \u25bc\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502   Stopped   \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre> <p>Crashed user tasks auto-restart after a 1-second backoff.</p>"},{"location":"scriptos/vm-sharing/#defensive-skill-loading","title":"Defensive Skill Loading","text":"<p>When an agent (like PFC) dynamically loads skills/scriptos, use these patterns to avoid crashing:</p>"},{"location":"scriptos/vm-sharing/#1-wrap-everything-in-tryexcept","title":"1. Wrap Everything in Try/Except","text":"<pre><code>async def run_skill(path):\n    try:\n        skill_globals = {}\n        with open(path) as f:\n            code = f.read()\n        exec(compile(code, path, 'exec'), skill_globals)\n\n        if 'run' in skill_globals:\n            return await skill_globals['run']()\n    except SyntaxError as e:\n        return {\"error\": f\"Syntax error in skill: {e}\"}\n    except MemoryError:\n        gc.collect()\n        return {\"error\": \"Out of memory loading skill\"}\n    except Exception as e:\n        return {\"error\": f\"Skill failed: {e}\"}\n</code></pre>"},{"location":"scriptos/vm-sharing/#2-pre-flight-memory-check","title":"2. Pre-flight Memory Check","text":"<pre><code>import gc\n\ndef can_load_skill(min_free_kb=50):\n    \"\"\"Check if we have enough memory to load a skill\"\"\"\n    gc.collect()\n    free_kb = gc.mem_free() // 1024\n    return free_kb &gt;= min_free_kb\n</code></pre>"},{"location":"scriptos/vm-sharing/#3-syntax-validation-before-exec","title":"3. Syntax Validation Before Exec","text":"<pre><code>def validate_skill(code, filename=\"skill\"):\n    \"\"\"Check syntax without executing\"\"\"\n    try:\n        compile(code, filename, 'exec')\n        return True, None\n    except SyntaxError as e:\n        return False, str(e)\n</code></pre>"},{"location":"scriptos/vm-sharing/#4-timeout-protection-cooperative","title":"4. Timeout Protection (Cooperative)","text":"<p>Since MicroPython is single-threaded, true timeouts aren't possible. Instead, skills must cooperate:</p> <pre><code>import time\n\n# Pass a deadline to the skill\nasync def run_skill_with_timeout(skill_func, timeout_ms=5000):\n    deadline = time.ticks_add(time.ticks_ms(), timeout_ms)\n\n    # Skill must check this periodically\n    return await skill_func(deadline=deadline)\n\n# Inside skill:\nasync def my_skill(deadline=None):\n    while work_remaining:\n        if deadline and time.ticks_diff(deadline, time.ticks_ms()) &lt; 0:\n            raise TimeoutError(\"Skill timed out\")\n        do_chunk_of_work()\n        await asyncio.sleep(0)  # Yield\n</code></pre>"},{"location":"scriptos/vm-sharing/#5-isolated-namespace","title":"5. Isolated Namespace","text":"<p>Prevent skills from polluting globals:</p> <pre><code>def exec_isolated(code, filename=\"skill\"):\n    \"\"\"Execute code in isolated namespace\"\"\"\n    skill_ns = {\n        '__name__': 'skill',\n        '__builtins__': __builtins__,\n        # Explicitly provide allowed modules\n        'asyncio': __import__('asyncio'),\n        'json': __import__('json'),\n        'gc': __import__('gc'),\n    }\n    exec(compile(code, filename, 'exec'), skill_ns)\n    return skill_ns\n</code></pre>"},{"location":"scriptos/vm-sharing/#6-cleanup-after-skills","title":"6. Cleanup After Skills","text":"<pre><code>async def run_and_cleanup(skill_path):\n    try:\n        result = await run_skill(skill_path)\n        return result\n    finally:\n        # Always clean up\n        gc.collect()\n</code></pre> <p>[!TIP] Log execution results via <code>syslog</code> so you can debug failures remotely.</p>"},{"location":"scriptos/vm-sharing/#thread-safety-in-micropython","title":"Thread Safety in MicroPython","text":"<p>While pyDirect primarily uses <code>asyncio</code>, some components (like the status LED) use <code>_thread</code> for background work. Threads work but have significant gotchas.</p>"},{"location":"scriptos/vm-sharing/#known-thread-limitations","title":"Known Thread Limitations","text":"Issue Description Impact No thread-safe data structures No <code>Queue</code>, basic <code>Lock</code> only Race conditions if sharing data GIL contention Only one thread runs Python at a time Blocked thread affects all No <code>thread.join()</code> Can't wait for thread completion Must use flags for coordination No <code>thread.kill()</code> Can't forcibly terminate Runaway thread can't be stopped Silent exception death Uncaught exceptions crash thread silently Hard to debug Small stack ~4KB default stack size Deep recursion crashes Memory fragmentation Create/destroy fragments heap Create once, reuse"},{"location":"scriptos/vm-sharing/#dangerous-patterns","title":"\u274c Dangerous Patterns","text":"<pre><code># DANGEROUS: Shared mutable state without locks\nshared_data = []\ndef skill_thread():\n    shared_data.append(\"from thread\")  # Race condition!\n\n# DANGEROUS: Async/await in thread\ndef skill_thread():\n    await asyncio.sleep(1)  # CRASHES - asyncio not thread-safe!\n\n# DANGEROUS: WebREPL/network from thread  \ndef skill_thread():\n    webrepl.notify(\"msg\")  # Undefined behavior!\n\n# DANGEROUS: Frequent thread creation\nfor i in range(100):\n    _thread.start_new_thread(task, ())  # Memory fragmentation!\n</code></pre>"},{"location":"scriptos/vm-sharing/#safe-thread-pattern","title":"\u2705 Safe Thread Pattern","text":"<p>The status LED thread demonstrates the safe pattern:</p> <pre><code>import _thread\nimport time\n\ndef _animation_thread():\n    while True:\n        if status_led:            # Read-only check\n            status_led.update()   # Self-contained, fast work\n        time.sleep_ms(50)         # Always yields GIL\n</code></pre> <p>Why this works:</p> <ul> <li>Read-only access to singleton (no mutation races)</li> <li>Short, bounded work per iteration</li> <li>Regular <code>sleep_ms()</code> to yield GIL</li> <li>Created once at boot, never destroyed</li> <li>No asyncio or network calls</li> </ul>"},{"location":"scriptos/vm-sharing/#thread-stop-flag-pattern","title":"Thread + Stop Flag Pattern","text":"<p>If you need to run skills in a thread:</p> <pre><code>import _thread\n\n_skill_stop = False\n\ndef run_skill_threaded(code):\n    global _skill_stop\n    _skill_stop = False\n\n    def runner():\n        try:\n            skill_globals = {'should_stop': lambda: _skill_stop}\n            exec(compile(code, 'skill', 'exec'), skill_globals)\n        except Exception as e:\n            print(f\"Thread error: {e}\")  # Log, don't crash silently\n\n    _thread.start_new_thread(runner, ())\n\ndef stop_skill():\n    global _skill_stop\n    _skill_stop = True  # Skill must check this!\n</code></pre> <p>[!WARNING] The skill must cooperate by checking <code>should_stop()</code>. A skill that ignores this cannot be terminated.</p>"},{"location":"scriptos/vm-sharing/#when-to-use-threads","title":"When to Use Threads","text":"Use Case Recommendation Most skills Use asyncio - safer, simpler Blocking hardware I/O Thread OK - like NeoPixel animations Network/WebREPL calls Use asyncio only - not thread-safe CPU-intensive work Thread with yields - call <code>time.sleep_ms(0)</code> frequently Long-lived background Thread OK - create once, run forever Short one-off tasks Avoid threads - use asyncio task"},{"location":"scriptos/vm-sharing/#thread-pool-pattern-advanced","title":"Thread Pool Pattern (Advanced)","text":"<p>For frequent skill execution, use a single long-lived worker thread:</p> <pre><code>import _thread\nimport time\n\n_skill_queue = None  # Skill code to run\n_skill_result = None\n\ndef _worker_thread():\n    global _skill_queue, _skill_result\n    while True:\n        if _skill_queue:\n            try:\n                _skill_result = exec_skill(_skill_queue)\n            except Exception as e:\n                _skill_result = {\"error\": str(e)}\n            _skill_queue = None\n        time.sleep_ms(10)\n\n# Start once at boot\n_thread.start_new_thread(_worker_thread, ())\n\ndef submit_skill(code):\n    global _skill_queue\n    _skill_queue = code\n</code></pre> <p>This avoids memory fragmentation from creating/destroying threads.</p>"},{"location":"scriptos/vm-sharing/#bus-sharing-i2c-spi","title":"Bus Sharing (I2C / SPI)","text":"<p>When multiple extensions or ScriptOs talk to devices on the same I2C or SPI bus, they must share a single <code>machine.I2C</code> or <code>machine.SPI</code> instance. If two extensions each create their own instance for the same hardware peripheral, the second one silently reconfigures the bus \u2014 potentially breaking the first.</p>"},{"location":"scriptos/vm-sharing/#why-no-locking-is-needed","title":"Why No Locking Is Needed","text":"<p>In CircuitPython, the <code>busio.I2C</code> class has <code>try_lock()</code> / <code>unlock()</code> methods because its USB stack can preempt a transaction mid-byte. MicroPython on pyDirect doesn't have this problem \u2014 all I2C/SPI calls are synchronous C functions that run to completion. Since the VM is single-threaded and cooperative, no other coroutine can interleave on the bus between <code>await</code> points.</p> <p>The real risk is configuration conflicts, not data races. The <code>bus</code> module solves this with a singleton cache.</p>"},{"location":"scriptos/vm-sharing/#the-bus-module","title":"The <code>bus</code> Module","text":"<pre><code>from lib.sys import bus\n\n# Board-manifest-aware (recommended \u2014 uses board.json pin definitions)\ni2c = bus.get_i2c(\"sensors\")\n\n# Explicit pins\ni2c = bus.get_i2c(0, scl=9, sda=8, freq=400000)\n\n# SPI works the same way\nspi = bus.get_spi(\"display\")\nspi = bus.get_spi(1, sck=12, mosi=11, miso=13, baudrate=10000000)\n</code></pre> <p>Calling <code>bus.get_i2c(\"sensors\")</code> twice returns the same object \u2014 no reconfiguration, no conflicts.</p>"},{"location":"scriptos/vm-sharing/#comparison","title":"Comparison","text":"Approach What Happens <code>machine.I2C(0, scl=Pin(9), sda=Pin(8))</code> \u00d7 2 Second call may reconfigure the peripheral <code>bus.get_i2c(0, scl=9, sda=8)</code> \u00d7 2 Returns the same cached instance <code>bus.get_i2c(\"sensors\")</code> \u00d7 2 Same, using board manifest pins"},{"location":"scriptos/vm-sharing/#utility-functions","title":"Utility Functions","text":"<pre><code>bus.info()                  # Print all cached buses\nbus.release_i2c(\"sensors\")  # Remove from cache (doesn't deinit hardware)\n</code></pre> <p>Tip</p> <p>Always prefer the named form (<code>bus.get_i2c(\"sensors\")</code>) over explicit pins. This keeps your ScriptOs portable across different boards.</p>"},{"location":"scriptos/vm-sharing/#related","title":"Related","text":"<ul> <li>Writing ScriptOs - Script basics</li> <li>bg_tasks API - Task management functions</li> </ul>"},{"location":"scriptos/writing-scriptos/","title":"Writing ScriptOs","text":"<p>A guide to writing MicroPython scripts for pyDirect devices.</p>"},{"location":"scriptos/writing-scriptos/#script-basics","title":"Script Basics","text":"<p>A ScriptO is simply a MicroPython script that runs on your device. You can: - Run scripts directly from the editor (temporary execution) - Save scripts to the device (persistent storage) - Set scripts to run on boot (via <code>main.py</code>)</p>"},{"location":"scriptos/writing-scriptos/#script-structure","title":"Script Structure","text":""},{"location":"scriptos/writing-scriptos/#simple-script","title":"Simple Script","text":"<pre><code># hello.py - A simple script\nprint(\"Hello from pyDirect!\")\n</code></pre>"},{"location":"scriptos/writing-scriptos/#script-with-imports","title":"Script with Imports","text":"<pre><code># blink.py - Blink an LED\nfrom machine import Pin\nimport time\n\nled = Pin(2, Pin.OUT)\n\nfor i in range(5):\n    led.on()\n    time.sleep(0.5)\n    led.off()\n    time.sleep(0.5)\n\nprint(\"Done blinking!\")\n</code></pre>"},{"location":"scriptos/writing-scriptos/#async-script","title":"Async Script","text":"<p>For non-blocking operations, use asyncio:</p> <pre><code># async_example.py\nimport asyncio\nfrom machine import Pin\n\nled = Pin(2, Pin.OUT)\n\nasync def blink():\n    while True:\n        led.toggle()\n        await asyncio.sleep(0.5)\n\nasync def main():\n    # Run tasks concurrently\n    await asyncio.gather(\n        blink(),\n        other_task(),\n    )\n\nasyncio.run(main())\n</code></pre>"},{"location":"scriptos/writing-scriptos/#boot-scripts","title":"Boot Scripts","text":"<p>pyDirect executes scripts in this order on boot:</p> <ol> <li><code>boot.py</code> - System initialization (don't edit unless you know what you're doing)</li> <li><code>main.py</code> - Your application code</li> </ol>"},{"location":"scriptos/writing-scriptos/#creating-mainpy","title":"Creating main.py","text":"<pre><code># main.py - Runs on every boot\nprint(\"Device starting...\")\n\n# Your application logic here\nimport my_app\nmy_app.run()\n</code></pre> <p>[!WARNING] If <code>main.py</code> has an error or infinite loop, you may need to connect via USB REPL to fix it.</p>"},{"location":"scriptos/writing-scriptos/#working-with-hardware","title":"Working with Hardware","text":""},{"location":"scriptos/writing-scriptos/#gpio","title":"GPIO","text":"<pre><code>from machine import Pin\n\n# Digital output\nled = Pin(2, Pin.OUT)\nled.on()\nled.off()\nled.toggle()\n\n# Digital input\nbutton = Pin(0, Pin.IN, Pin.PULL_UP)\nif button.value() == 0:\n    print(\"Button pressed\")\n</code></pre>"},{"location":"scriptos/writing-scriptos/#i2c","title":"I2C","text":"<pre><code>from machine import I2C, Pin\n\ni2c = I2C(0, scl=Pin(9), sda=Pin(8), freq=400000)\n\n# Scan for devices\ndevices = i2c.scan()\nprint(f\"Found: {[hex(d) for d in devices]}\")\n\n# Read from device\ndata = i2c.readfrom(0x68, 7)\n</code></pre>"},{"location":"scriptos/writing-scriptos/#can-bus","title":"CAN Bus","text":"<pre><code>from machine import CAN\n\ncan = CAN(0, mode=CAN.NORMAL, baudrate=500000,\n          tx=Pin(5), rx=Pin(4))\n\n# Send message\ncan.send([0x11, 0x22, 0x33], 0x123)\n\n# Receive message\nid, data = can.recv()\nprint(f\"Received: ID={hex(id)}, data={data}\")\n</code></pre>"},{"location":"scriptos/writing-scriptos/#best-practices","title":"Best Practices","text":""},{"location":"scriptos/writing-scriptos/#memory-management","title":"Memory Management","text":"<pre><code>import gc\n\n# Force garbage collection to free memory\ngc.collect()\n\n# Check available memory\nprint(f\"Free: {gc.mem_free()} bytes\")\n</code></pre>"},{"location":"scriptos/writing-scriptos/#error-handling","title":"Error Handling","text":"<pre><code>try:\n    risky_operation()\nexcept OSError as e:\n    print(f\"OS error: {e}\")\nexcept Exception as e:\n    import sys\n    sys.print_exception(e)\n</code></pre>"},{"location":"scriptos/writing-scriptos/#modular-code","title":"Modular Code","text":"<p>Split large scripts into modules:</p> <pre><code>/lib/\n  my_sensors.py\n  my_network.py\nmain.py  # imports from lib/\n</code></pre>"},{"location":"scriptos/writing-scriptos/#testing-scripts","title":"Testing Scripts","text":"<ol> <li>Run in editor - Quick iteration, no save required</li> <li>Save and run - Test persistent behavior</li> <li>Soft reset - Ctrl+D in REPL to restart without power cycle</li> <li>Hard reset - Power cycle or reset button</li> </ol>"},{"location":"scriptos/writing-scriptos/#related","title":"Related","text":"<ul> <li>First ScriptO - Your first script</li> <li>Writing Extensions - Create UI extensions</li> <li>Debugger Overview - Debug your code</li> </ul>"},{"location":"troubleshooting/connection/","title":"Troubleshooting Connection","text":"<p>Common connection issues and their solutions.</p>"},{"location":"troubleshooting/connection/#quick-checks","title":"Quick Checks","text":"<p>Before diving into detailed troubleshooting:</p> <ul> <li>[ ] Device is powered on</li> <li>[ ] Device and browser on same network</li> <li>[ ] Correct IP address entered</li> <li>[ ] WebREPL password is correct</li> <li>[ ] No other client connected (single-client model)</li> </ul>"},{"location":"troubleshooting/connection/#connection-errors","title":"Connection Errors","text":""},{"location":"troubleshooting/connection/#connection-refused-or-timeout","title":"\"Connection refused\" or timeout","text":"<p>Cause: Device unreachable or WebREPL not running</p> <p>Solutions: 1. Ping the device: <code>ping &lt;device-ip&gt;</code> 2. Check device is on WiFi (status LED should be solid) 3. Verify WebREPL is enabled in <code>boot.py</code> 4. Try connecting via serial to verify device is running</p>"},{"location":"troubleshooting/connection/#authentication-failed","title":"\"Authentication failed\"","text":"<p>Cause: Wrong password</p> <p>Solutions: 1. Default password is <code>micropython</code> 2. Check <code>settings/wifi.json</code> on device for custom password 3. Reset password via serial REPL if forgotten</p>"},{"location":"troubleshooting/connection/#webrtc-connection-failed","title":"\"WebRTC connection failed\"","text":"<p>Cause: NAT/firewall blocking P2P</p> <p>Solutions: 1. Try WebSocket fallback (automatic after WebRTC timeout) 2. Ensure devices are on same subnet 3. Check router doesn't block P2P connections 4. Disable VPN if active</p>"},{"location":"troubleshooting/connection/#another-client-is-connected","title":"\"Another client is connected\"","text":"<p>Cause: Only one WebREPL client allowed at a time</p> <p>Solutions: 1. Close other browser tabs with ScriptO Studio 2. Wait 30 seconds for stale connection to timeout 3. Power cycle device to force disconnect</p>"},{"location":"troubleshooting/connection/#network-issues","title":"Network Issues","text":""},{"location":"troubleshooting/connection/#device-in-ap-mode","title":"Device in AP Mode","text":"<p>When device can't connect to WiFi, it creates its own access point:</p> <ol> <li>Look for WiFi network: <code>pyDirect-XXXX</code></li> <li>Connect your computer to that network</li> <li>Access ScriptO Studio at <code>http://192.168.4.1</code></li> <li>Configure WiFi credentials in Settings</li> </ol>"},{"location":"troubleshooting/connection/#wrong-ip-address","title":"Wrong IP Address","text":"<p>Find your device's IP:</p> <p>From serial REPL: <pre><code>import network\nsta = network.WLAN(network.STA_IF)\nprint(sta.ifconfig()[0])\n</code></pre></p> <p>From router: Check your router's DHCP client list for the device.</p>"},{"location":"troubleshooting/connection/#performance-issues","title":"Performance Issues","text":""},{"location":"troubleshooting/connection/#slow-response","title":"Slow Response","text":"<p>Causes &amp; Solutions:</p> Symptom Cause Solution Commands take 4-6s Memory pressure Reboot device Gradual slowdown Memory leak Check for unclosed files/sockets Intermittent lag WiFi interference Move device closer to router"},{"location":"troubleshooting/connection/#memory-warnings","title":"Memory Warnings","text":"<p>If device shows low memory:</p> <pre><code>import gc\ngc.collect()\nprint(gc.mem_free())\n</code></pre> <p>Target: &gt;50KB free for stable operation.</p>"},{"location":"troubleshooting/connection/#debug-logging","title":"Debug Logging","text":"<p>Enable verbose logging for diagnosis:</p> <p>In ScriptO Studio: 1. Open browser DevTools (F12) 2. Check Console tab for connection logs 3. Look for <code>[WebRTC]</code> or <code>[WebSocket]</code> prefixed messages</p> <p>On Device: Check UART output for <code>ESP_LOGD</code> messages.</p>"},{"location":"troubleshooting/connection/#still-stuck","title":"Still Stuck?","text":"<ol> <li>Check FAQ for known issues</li> <li>Review device serial output for errors</li> <li>Open an issue with:</li> <li>Browser and version</li> <li>Device board type</li> <li>Error messages from console</li> <li>Network configuration</li> </ol>"},{"location":"troubleshooting/debug-logging/","title":"Debug Logging","text":"<p>Coming Soon</p> <p>This page is under construction.</p> <p>Please check back later or contribute to the docs.</p>"},{"location":"troubleshooting/errors/","title":"Common Errors","text":"<p>Coming Soon</p> <p>This page is under construction.</p> <p>Please check back later or contribute to the docs.</p>"},{"location":"troubleshooting/memory/","title":"Memory &amp; Performance","text":"<p>Coming Soon</p> <p>This page is under construction.</p> <p>Please check back later or contribute to the docs.</p>"},{"location":"user-guide/editor-features/","title":"Editor Features","text":"<p>The ScriptO Studio editor is built on CodeMirror 6 and provides a modern code editing experience.</p>"},{"location":"user-guide/editor-features/#overview","title":"Overview","text":"<p>The editor supports: - Python syntax highlighting - Multiple file tabs - Line numbers - Code execution - AI Agent integration</p>"},{"location":"user-guide/editor-features/#toolbar","title":"Toolbar","text":"<p>The toolbar provides quick access to common actions:</p> Button Action Shortcut Reset Soft reset device - Run Execute current file Ctrl+R / Cmd+R Stop Send interrupt (Ctrl+C) - Debug Toggle debug mode - New Create new file Ctrl+N / Cmd+N Save Save current file Ctrl+S / Cmd+S ScriptO Open ScriptO browser - AI Agent Toggle AI Agent panel -"},{"location":"user-guide/editor-features/#tabs","title":"Tabs","text":"<p>Multiple files can be open simultaneously in tabs:</p> <ul> <li>Click a tab to switch to that file</li> <li>Click the \u00d7 on a tab to close it</li> <li>Modified files show an indicator</li> <li>Right-click for tab options</li> </ul> <p>Tab examples shown: - <code>New1.py</code> - <code>CAN_TWAI_Loopb...</code> - <code>Terminal_Sine_W...</code> - <code>Tesla_M3_Brake_...</code></p>"},{"location":"user-guide/editor-features/#syntax-highlighting","title":"Syntax Highlighting","text":"<p>Python code is highlighted with: - Keywords (import, def, class, return) in distinct colors - Strings highlighted - Comments in muted colors - Numbers highlighted - Function calls distinguished</p>"},{"location":"user-guide/editor-features/#line-numbers","title":"Line Numbers","text":"<p>Line numbers appear on the left margin. Click a line number to: - Select the entire line - Set a cursor position</p>"},{"location":"user-guide/editor-features/#code-execution","title":"Code Execution","text":"<p>To run your code:</p> <ol> <li>Write or edit code in the editor</li> <li>Click Run or press Ctrl+R / Cmd+R</li> <li>Output appears in the Terminal below</li> </ol> <p>The code is sent to the device and executed immediately. You don't need to save first - the editor content is executed directly.</p>"},{"location":"user-guide/editor-features/#terminal-integration","title":"Terminal Integration","text":"<p>The Terminal panel below the editor shows: - Script output (print statements) - Error messages and tracebacks - REPL prompt for interactive commands</p> <p>Example output: <pre><code>=== Tesla Model 3 Brake Pedal Emulator Started ===\nConfig: TX Pin(5), RX Pin(4), ForceLevel=50N, Interval=20ms\nTransmitting...\n\nStopping emulator...\n</code></pre></p>"},{"location":"user-guide/editor-features/#keyboard-shortcuts","title":"Keyboard Shortcuts","text":"Shortcut Action Ctrl+S / Cmd+S Save file to device Ctrl+R / Cmd+R Run code Ctrl+N / Cmd+N New file dialog Ctrl+L / Cmd+L Clear terminal Ctrl+Shift+C / Cmd+Shift+C Connect to device"},{"location":"user-guide/editor-features/#ai-agent-panel","title":"AI Agent Panel","text":"<p>The AI Agent panel on the right provides: - Natural language code generation - Error explanation - Code suggestions</p> <p>See Using the Agent for details.</p>"},{"location":"user-guide/editor-features/#related","title":"Related","text":"<ul> <li>Writing ScriptOs - Script development</li> <li>Terminal &amp; REPL - Interactive programming</li> <li>Using the Agent - AI assistance</li> </ul>"},{"location":"user-guide/file-manager/","title":"File Manager","text":"<p>The File Manager lets you browse, edit, and manage files on your pyDirect device.</p>"},{"location":"user-guide/file-manager/#opening-file-manager","title":"Opening File Manager","text":"<p>Click Files in the left sidebar to open the File Manager view.</p> <p></p>"},{"location":"user-guide/file-manager/#interface","title":"Interface","text":"<p>The File Manager shows a dual-pane view:</p> Pane Purpose Left Directory listing - folders and files on device Right File actions and preview"},{"location":"user-guide/file-manager/#device-filesystem","title":"Device Filesystem","text":"<p>The left pane shows the device's flash filesystem:</p> <pre><code>/\n\u251c\u2500\u2500 certs/          # SSL certificates\n\u251c\u2500\u2500 config/         # Legacy config files\n\u251c\u2500\u2500 lib/            # Python libraries (installed packages)\n\u251c\u2500\u2500 settings/       # Device settings (JSON files)\n\u251c\u2500\u2500 boot.py         # System boot script\n\u2514\u2500\u2500 main.py         # Your application script\n</code></pre>"},{"location":"user-guide/file-manager/#file-information","title":"File Information","text":"<p>Each file shows: - Name - Filename - Size - File size in bytes/KB</p> <p>Folders are indicated with a folder icon.</p>"},{"location":"user-guide/file-manager/#file-operations","title":"File Operations","text":""},{"location":"user-guide/file-manager/#creating-files","title":"Creating Files","text":"<ol> <li>Click the New File icon (\ud83d\udcc4) in the toolbar</li> <li>Enter a filename (include <code>.py</code> extension for Python files)</li> <li>Click Create</li> <li>The empty file opens in the editor</li> </ol>"},{"location":"user-guide/file-manager/#creating-folders","title":"Creating Folders","text":"<ol> <li>Click the New Folder icon (\ud83d\udcc1) in the toolbar</li> <li>Enter a folder name</li> <li>Click Create</li> </ol>"},{"location":"user-guide/file-manager/#opening-files","title":"Opening Files","text":"<ul> <li>Single click a file to select it</li> <li>Double click to open it in the editor</li> </ul> <p>Supported file types: - <code>.py</code> - Python scripts (syntax highlighted) - <code>.json</code> - Configuration files - <code>.txt</code> - Text files - Others - Opened as plain text</p>"},{"location":"user-guide/file-manager/#deleting-files","title":"Deleting Files","text":"<ol> <li>Select the file or folder</li> <li>Click the Delete icon (\ud83d\uddd1\ufe0f) in the right pane</li> <li>Confirm deletion</li> </ol> <p>[!WARNING] Deleting <code>boot.py</code> or corrupting <code>main.py</code> may prevent your device from booting properly.</p>"},{"location":"user-guide/file-manager/#uploading-files","title":"Uploading Files","text":"<ol> <li>Click the Upload icon in the toolbar</li> <li>Select a file from your computer</li> <li>File is transferred to the current directory</li> </ol>"},{"location":"user-guide/file-manager/#downloading-files","title":"Downloading Files","text":"<ol> <li>Select a file</li> <li>Click the Download icon in the right pane</li> <li>File is saved to your computer</li> </ol>"},{"location":"user-guide/file-manager/#navigating","title":"Navigating","text":"<ul> <li>Click a folder to enter it</li> <li>Click the parent folder icon (\u2191) to go up one level</li> <li>The path bar shows your current location</li> </ul>"},{"location":"user-guide/file-manager/#status-bar-integration","title":"Status Bar Integration","text":"<p>The status bar at the bottom shows device info:</p> Indicator Meaning RAM Memory usage (e.g., <code>182.91 KB / 31.62 MB</code>) TEMP Chip temperature UPTIME Time since last boot RSSI WiFi signal strength"},{"location":"user-guide/file-manager/#refreshing","title":"Refreshing","text":"<p>Click the Refresh icon to reload the file listing from the device.</p>"},{"location":"user-guide/file-manager/#related","title":"Related","text":"<ul> <li>Writing ScriptOs - Creating Python scripts</li> <li>Editor Features - Editing files</li> <li>Settings - Device configuration</li> </ul>"},{"location":"user-guide/settings/","title":"Settings &amp; Customization","text":"<p>ScriptO Studio can be customized to match your preferences.</p> <p></p>"},{"location":"user-guide/settings/#appearance-options","title":"Appearance Options","text":"<ul> <li>Theme - Light, Dark, or follow your device setting</li> <li>Color Scheme - Choose an accent color for the interface</li> <li>Editor Theme - Pick from several code editor color schemes</li> <li>Temperature Unit - Display in Celsius or Fahrenheit</li> <li>Language - Interface language selection</li> </ul>"},{"location":"user-guide/settings/#accessing-settings","title":"Accessing Settings","text":"<p>Click System \u2192 Settings in the left sidebar. Changes apply immediately.</p>"},{"location":"user-guide/settings/#related","title":"Related","text":"<ul> <li>IDE Overview - Interface tour</li> <li>System Information - Device status</li> </ul>"},{"location":"user-guide/system-info/","title":"System Information","text":"<p>View detailed information about your connected device.</p>"},{"location":"user-guide/system-info/#opening-system-info","title":"Opening System Info","text":"<p>Click System in the left sidebar, then select About or the info icon.</p> <p></p>"},{"location":"user-guide/system-info/#board-information","title":"Board Information","text":"Field Description Example Board Name Human-readable board name Generic ESP32-S3 Board ID Board identifier generic_esp32s3 Chip ESP chip variant ESP32-S3 Version Board definition version 1.0.0 Description Board capabilities Generic ESP32-S3 dev board with RGB LED on GPIO48"},{"location":"user-guide/system-info/#mcu-micropython","title":"MCU &amp; MicroPython","text":"Field Description Example Unique ID Device unique identifier 8095453208B... Frequency CPU clock speed 160 MHz Flash Size Total flash memory 16.00 MB Platform MicroPython platform esp32 System Chip family esp32 Release MicroPython version 1.27.0 Version Detailed version info v1.27.0-1_ge404eb262... Implementation Firmware variant ESP32-S3 16MB with pyDirect with ESP32S3 SPIRAM PSRAM availability Yes MPY Version Bytecode version 6.3"},{"location":"user-guide/system-info/#flash-partitions","title":"Flash Partitions","text":"<p>The flash partition table shows how storage is allocated:</p> Name Type Offset Size factory APP 0x10000 4.00 MB nvs DATA 0x9000 24.0 KB phy_init DATA 0xf000 4.0 KB vfs DATA 0x410000 11.94 MB"},{"location":"user-guide/system-info/#partition-types","title":"Partition Types","text":"<ul> <li>factory - The main application (MicroPython + pyDirect)</li> <li>nvs - Non-volatile storage for system settings</li> <li>phy_init - WiFi/Bluetooth PHY calibration data</li> <li>vfs - Virtual filesystem (your Python files and data)</li> </ul>"},{"location":"user-guide/system-info/#status-bar","title":"Status Bar","text":"<p>The status bar at the bottom of ScriptO Studio shows real-time device metrics:</p> Indicator Description Example RAM Used / Total memory 77.64 KB / 7.97 MB TEMP Chip temperature 38.9\u00b0C UPTIME Time since boot 18m RSSI WiFi signal strength -41 dBm"},{"location":"user-guide/system-info/#understanding-ram","title":"Understanding RAM","text":"<ul> <li>Used - Currently allocated memory</li> <li>Total - Total available (includes PSRAM if present)</li> <li>PSRAM (SPIRAM) significantly increases available RAM</li> </ul>"},{"location":"user-guide/system-info/#temperature","title":"Temperature","text":"<p>Normal operating range: 30-60\u00b0C. Higher temperatures may indicate: - Heavy processing load - Poor ventilation - High ambient temperature</p>"},{"location":"user-guide/system-info/#using-this-information","title":"Using This Information","text":""},{"location":"user-guide/system-info/#for-debugging","title":"For Debugging","text":"<ul> <li>Check Flash Size to ensure sufficient storage</li> <li>Monitor RAM to detect memory leaks</li> <li>Verify SPIRAM is enabled if needed</li> </ul>"},{"location":"user-guide/system-info/#for-development","title":"For Development","text":"<ul> <li>Use Board ID for conditional code</li> <li>Check Frequency for timing calculations</li> <li>Reference MPY Version for compatibility</li> </ul>"},{"location":"user-guide/system-info/#related","title":"Related","text":"<ul> <li>Board Configurations - Supported boards</li> <li>Troubleshooting Memory - Memory issues</li> <li>Settings - Device configuration</li> </ul>"},{"location":"user-guide/terminal-repl/","title":"Terminal &amp; REPL","text":"<p>Coming Soon</p> <p>This page is under construction.</p> <p>Please check back later or contribute to the docs.</p>"}]}